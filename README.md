# Re:li - è¨˜æ†¶é‡€é…’å¸«èˆ‡æ™‚ç©ºè† å›Šçš„çµåˆé«”é©—

<div align="center">
  <img src="https://img.shields.io/badge/React-18.2.0-blue?logo=react" />
  <img src="https://img.shields.io/badge/TypeScript-4.9.5-blue?logo=typescript" />
  <img src="https://img.shields.io/badge/Node.js-18+-green?logo=node.js" />
  <img src="https://img.shields.io/badge/PostgreSQL-15+-blue?logo=postgresql" />
  <img src="https://img.shields.io/badge/Docker-æ”¯æ´-blue?logo=docker" />
</div>

## ğŸŒŸ å°ˆæ¡ˆæ¦‚è¿°

**Re:li** æ˜¯ä¸€å€‹å‰µæ–°çš„ LINE MINI Appï¼Œçµåˆäº†ã€Œè¨˜æ†¶é‡€é…’å¸«ã€çš„å›æº¯åŠŸèƒ½èˆ‡ã€Œæ™‚ç©ºè† å›Šã€çš„æœŸè¨±åŠŸèƒ½ï¼Œå‰µé€ å‡ºåœ¨æƒ…æ„Ÿæ™‚é–“è»¸ä¸Šç„¡æ¯”å¼·å¤§çš„é«”é©—ã€‚å®ƒè®“ä½¿ç”¨è€…é‡æ–°ç™¼ç¾èˆ‡æ‘¯å‹çš„ç¾å¥½å›æ†¶ï¼Œä¸¦å°‡çè²´æ™‚åˆ»å°å­˜æˆæ™‚ç©ºè† å›Šå‚³éçµ¦æœªä¾†ã€‚

### ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

- **Re:** ä»£è¡¨ `Replay` (é‡æº«)ã€`Recall` (å›æ†¶)ã€`Return` (å›æ­¸)
- **li:** ä»£è¡¨ `Life` (ç”Ÿæ´»)ã€`Love` (æ„›)ã€`Link` (é€£çµ)
- **Re:li:** æ•´å€‹è©åˆåœ¨ä¸€èµ·å°±æ˜¯ã€Œé‡æ–°é€£çµã€ï¼Œé‡æ–°é€£çµéå»èˆ‡æœªä¾†

## ğŸš€ ä¸»è¦åŠŸèƒ½

### 1. è¨˜æ†¶é‡€é…’å¸« (Memory Brewer)
- **AI æ™ºæ…§ç™¼æ˜**: è‡ªå‹•åˆ†æ LINE èŠå¤©è¨˜éŒ„ï¼Œè­˜åˆ¥çè²´å›æ†¶ç‰‡æ®µ
- **æƒ…æ„Ÿåˆ†æ**: ä½¿ç”¨æœ¬åœ° AI åˆ†æå°è©±çš„æƒ…æ„Ÿè‰²å½©å’Œé‡è¦ç¨‹åº¦
- **å›æ†¶åˆ†é¡**: æ ¹æ“šå…§å®¹è‡ªå‹•æ¨™ç±¤å’Œåˆ†é¡å›æ†¶ç‰‡æ®µ
- **éš±ç§ä¿è­·**: æ‰€æœ‰åˆ†æéƒ½åœ¨ä½¿ç”¨è€…æ‰‹æ©Ÿä¸Šå®Œæˆï¼Œä¸ä¸Šå‚³åŸå§‹æ•¸æ“š

### 2. æ™‚ç©ºè† å›Š (Time Capsule)
- **è† å›Šè£½ä½œ**: é¸æ“‡å›æ†¶ç‰‡æ®µï¼Œæ·»åŠ æ–°è¨Šæ¯ï¼Œè¨­å®šè§£é–æ™‚é–“
- **å®šæ™‚ç™¼é€**: ç³»çµ±æœƒåœ¨æŒ‡å®šæ™‚é–“è‡ªå‹•ç™¼é€è† å›Šçµ¦æ¥æ”¶è€…
- **åŒ¿åé¸é …**: å¯é¸æ“‡åŒ¿åç™¼é€ï¼Œä¿è­·éš±ç§
- **å…¬é–‹åˆ†äº«**: å¯é¸æ“‡å°‡è† å›Šå…¬é–‹åˆ†äº«çµ¦ç¤¾ç¾¤

### 3. å€‹äººç®¡ç†
- **æˆ‘çš„è† å›Š**: ç®¡ç†å·²é€å‡ºå’Œå·²æ”¶åˆ°çš„è† å›Š
- **å›æ†¶åº«**: ç€è¦½æ‰€æœ‰è¢«ç™¼æ˜çš„å›æ†¶ç‰‡æ®µ
- **çµ±è¨ˆåˆ†æ**: æŸ¥çœ‹æƒ…æ„Ÿè¶¨å‹¢å’Œå›æ†¶åˆ†ä½ˆ

## ğŸ—ï¸ æŠ€è¡“æ¶æ§‹

### å‰ç«¯ (Frontend)
- **æ¡†æ¶**: React 18 + TypeScript
- **å»ºæ§‹å·¥å…·**: Vite
- **æ¨£å¼**: Tailwind CSS + Framer Motion
- **ç‹€æ…‹ç®¡ç†**: React Hooks + Context
- **è·¯ç”±**: React Router DOM
- **LINE æ•´åˆ**: LIFF (LINE Frontend Framework)

### å¾Œç«¯ (Backend)
- **æ¡†æ¶**: Node.js + Express.js
- **èªè¨€**: TypeScript
- **è³‡æ–™åº«**: PostgreSQL
- **ORM**: Knex.js
- **èªè­‰**: JWT
- **æ’ç¨‹**: node-cron
- **æ—¥èªŒ**: winston

### AI è™•ç† (AI Processing)
- **èªè¨€**: TypeScript
- **NLP åº«**: natural, sentiment
- **è™•ç†æ–¹å¼**: æœ¬åœ°ç«¯è™•ç†ï¼Œä¿è­·éš±ç§
- **åŠŸèƒ½**: æƒ…æ„Ÿåˆ†æã€é—œéµè©æå–ã€å›æ†¶åˆ†é¡

### è³‡æ–™åº« (Database)
- **ä¸»è³‡æ–™åº«**: PostgreSQL
- **å¿«å–**: Redis (å¯é¸)
- **é·ç§»**: Knex.js migrations
- **ç¨®å­è³‡æ–™**: Knex.js seeds

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
re-li/
â”œâ”€â”€ frontend/                 # React å‰ç«¯æ‡‰ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/      # å¯é‡ç”¨çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/          # é é¢çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/       # API æœå‹™
â”‚   â”‚   â”œâ”€â”€ hooks/          # è‡ªå®šç¾© Hooks
â”‚   â”‚   â””â”€â”€ utils/          # å·¥å…·å‡½æ•¸
â”‚   â”œâ”€â”€ public/             # éœæ…‹è³‡æº
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ backend/                 # Node.js å¾Œç«¯ API
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ routes/         # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ middleware/     # ä¸­é–“ä»¶
â”‚   â”‚   â”œâ”€â”€ models/         # è³‡æ–™æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ services/       # æ¥­å‹™é‚è¼¯
â”‚   â”‚   â””â”€â”€ config/         # é…ç½®æª”æ¡ˆ
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ ai-processing/           # AI è™•ç†æ¨¡çµ„
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ emotionAnalyzer.ts
â”‚   â”‚   â”œâ”€â”€ memoryExtractor.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ database/                # è³‡æ–™åº«ç›¸é—œ
â”‚   â”œâ”€â”€ migrations/         # è³‡æ–™åº«é·ç§»
â”‚   â””â”€â”€ seeds/             # ç¨®å­è³‡æ–™
â”œâ”€â”€ docs/                   # æ–‡æª”
â”‚   â”œâ”€â”€ API.md
â”‚   â””â”€â”€ DEVELOPMENT.md
â”œâ”€â”€ docker-compose.yml      # Docker ç·¨æ’
â””â”€â”€ README.md
```

## ğŸ› ï¸ å®‰è£èˆ‡é‹è¡Œ

### ç’°å¢ƒéœ€æ±‚

- Node.js 18+
- PostgreSQL 15+
- Docker & Docker Compose (å¯é¸)
- Git

### æ–¹æ³•ä¸€ï¼šDocker é‹è¡Œ (æ¨è–¦)

1. **å…‹éš†å°ˆæ¡ˆ**
   ```bash
   git clone <repository-url>
   cd re-li
   ```

2. **å•Ÿå‹•æœå‹™**
   ```bash
   docker-compose up -d
   ```

3. **è¨ªå•æ‡‰ç”¨**
   - å‰ç«¯: http://localhost:3000
   - å¾Œç«¯ API: http://localhost:3001
   - è³‡æ–™åº«: localhost:5432

### æ–¹æ³•äºŒï¼šæœ¬åœ°é–‹ç™¼

1. **å®‰è£ä¾è³´**
   ```bash
   # å®‰è£æ‰€æœ‰ä¾è³´
   npm run install:all
   ```

2. **è¨­ç½®è³‡æ–™åº«**
   ```bash
   # å‰µå»º PostgreSQL è³‡æ–™åº«
   createdb reli_db
   
   # é‹è¡Œé·ç§»
   cd backend
   npm run migrate
   npm run seed
   ```

3. **è¨­ç½®ç’°å¢ƒè®Šæ•¸**
   ```bash
   # è¤‡è£½ç’°å¢ƒè®Šæ•¸ç¯„æœ¬
   cp backend/.env.example backend/.env
   cp frontend/.env.example frontend/.env
   
   # ç·¨è¼¯ç’°å¢ƒè®Šæ•¸
   nano backend/.env
   nano frontend/.env
   ```

4. **å•Ÿå‹•é–‹ç™¼æœå‹™**
   ```bash
   # å•Ÿå‹•æ‰€æœ‰æœå‹™
   npm run dev
   
   # æˆ–åˆ†åˆ¥å•Ÿå‹•
   npm run dev:frontend  # å‰ç«¯
   npm run dev:backend   # å¾Œç«¯
   ```

## ğŸ”§ é–‹ç™¼æŒ‡å—

### å¯ç”¨è…³æœ¬

```bash
# å®‰è£æ‰€æœ‰ä¾è³´
npm run install:all

# é–‹ç™¼æ¨¡å¼
npm run dev                 # å•Ÿå‹•æ‰€æœ‰æœå‹™
npm run dev:frontend        # åƒ…å‰ç«¯
npm run dev:backend         # åƒ…å¾Œç«¯

# å»ºæ§‹
npm run build               # å»ºæ§‹æ‰€æœ‰æœå‹™
npm run build:frontend      # å»ºæ§‹å‰ç«¯
npm run build:backend       # å»ºæ§‹å¾Œç«¯

# æ¸¬è©¦
npm run test                # é‹è¡Œæ‰€æœ‰æ¸¬è©¦
npm run test:frontend       # å‰ç«¯æ¸¬è©¦
npm run test:backend        # å¾Œç«¯æ¸¬è©¦

# è³‡æ–™åº«
npm run migrate             # é‹è¡Œé·ç§»
npm run seed                # è¼‰å…¥ç¨®å­è³‡æ–™
npm run rollback            # å›æ»¾é·ç§»

# æ¸…ç†
npm run clean               # æ¸…ç†æ‰€æœ‰ node_modules
npm run clean:frontend      # æ¸…ç†å‰ç«¯
npm run clean:backend       # æ¸…ç†å¾Œç«¯
```

### ç’°å¢ƒè®Šæ•¸é…ç½®

#### å¾Œç«¯ (.env)
```env
# è³‡æ–™åº«é…ç½®
DATABASE_URL=postgresql://username:password@localhost:5432/reli_db
DB_HOST=localhost
DB_PORT=5432
DB_NAME=reli_db
DB_USER=username
DB_PASSWORD=password

# ä¼ºæœå™¨é…ç½®
PORT=3001
NODE_ENV=development

# JWT é…ç½®
JWT_SECRET=your-super-secret-jwt-key-here

# å‰ç«¯ URL
FRONTEND_URL=http://localhost:3000

# LINE é…ç½®
LINE_CHANNEL_ACCESS_TOKEN=your-line-channel-access-token
LINE_CHANNEL_SECRET=your-line-channel-secret
```

#### å‰ç«¯ (.env)
```env
# API é…ç½®
VITE_API_BASE_URL=http://localhost:3001/api

# LINE é…ç½®
VITE_LIFF_ID=your-liff-id

# æ‡‰ç”¨é…ç½®
VITE_APP_TITLE=Re:li
```

## ğŸ› å¸¸è¦‹å•é¡Œèˆ‡è§£æ±ºæ–¹æ¡ˆ

### 1. å‰ç«¯ç„¡æ³•è¼‰å…¥
**å•é¡Œ**: å‰ç«¯é é¢ç©ºç™½æˆ–è¼‰å…¥å¤±æ•—
**è§£æ±ºæ–¹æ¡ˆ**:
```bash
# æª¢æŸ¥ä¾è³´æ˜¯å¦æ­£ç¢ºå®‰è£
cd frontend
npm install

# æª¢æŸ¥ Tailwind CSS é…ç½®
npm run build

# æ¸…é™¤å¿«å–é‡æ–°å•Ÿå‹•
rm -rf node_modules package-lock.json
npm install
npm run dev
```

### 2. å¾Œç«¯è³‡æ–™åº«é€£æ¥å¤±æ•—
**å•é¡Œ**: å¾Œç«¯ç„¡æ³•é€£æ¥ PostgreSQL
**è§£æ±ºæ–¹æ¡ˆ**:
```bash
# æª¢æŸ¥ PostgreSQL æ˜¯å¦é‹è¡Œ
brew services start postgresql  # macOS
sudo systemctl start postgresql  # Linux

# æª¢æŸ¥è³‡æ–™åº«æ˜¯å¦å­˜åœ¨
psql -l | grep reli_db

# å‰µå»ºè³‡æ–™åº«
createdb reli_db

# æª¢æŸ¥ç’°å¢ƒè®Šæ•¸
cat backend/.env
```

### 3. Docker å®¹å™¨å•Ÿå‹•å¤±æ•—
**å•é¡Œ**: Docker Compose ç„¡æ³•å•Ÿå‹•æœå‹™
**è§£æ±ºæ–¹æ¡ˆ**:
```bash
# æª¢æŸ¥ Docker æ˜¯å¦é‹è¡Œ
docker --version
docker-compose --version

# é‡æ–°å»ºæ§‹å®¹å™¨
docker-compose down
docker-compose up -d --build

# æŸ¥çœ‹å®¹å™¨æ—¥èªŒ
docker-compose logs frontend
docker-compose logs backend
```

### 4. Tailwind CSS æ¨£å¼ä¸ç”Ÿæ•ˆ
**å•é¡Œ**: æ¨£å¼æ²’æœ‰æ­£ç¢ºè¼‰å…¥
**è§£æ±ºæ–¹æ¡ˆ**:
```bash
# æª¢æŸ¥ PostCSS é…ç½®
cat frontend/postcss.config.js

# é‡æ–°å®‰è£ Tailwind
cd frontend
npm uninstall tailwindcss
npm install -D tailwindcss@latest postcss@latest autoprefixer@latest

# é‡æ–°ç”Ÿæˆé…ç½®
npx tailwindcss init -p
```

### 5. AI è™•ç†æ¨¡çµ„éŒ¯èª¤
**å•é¡Œ**: AI ç›¸é—œåŠŸèƒ½ç„¡æ³•ä½¿ç”¨
**è§£æ±ºæ–¹æ¡ˆ**:
```bash
# æª¢æŸ¥ AI æ¨¡çµ„ä¾è³´
cd ai-processing
npm install

# æª¢æŸ¥ TensorFlow.js å…¼å®¹æ€§
npm list @tensorflow/tfjs

# å¦‚æœé‡åˆ° Xcode è¨±å¯è­‰å•é¡Œ (macOS)
sudo xcodebuild -license accept
```

## ğŸ“Š API æ–‡æª”

### èªè­‰ç›¸é—œ
- `POST /api/auth/login` - ä½¿ç”¨è€…ç™»å…¥
- `POST /api/auth/logout` - ä½¿ç”¨è€…ç™»å‡º
- `GET /api/auth/profile` - ç²å–ä½¿ç”¨è€…è³‡æ–™

### å›æ†¶ç›¸é—œ
- `GET /api/memories` - ç²å–ä½¿ç”¨è€…å›æ†¶åˆ—è¡¨
- `POST /api/memories/process` - è™•ç†èŠå¤©è¨˜éŒ„
- `GET /api/memories/:id` - ç²å–ç‰¹å®šå›æ†¶

### è† å›Šç›¸é—œ
- `GET /api/capsules` - ç²å–è† å›Šåˆ—è¡¨
- `POST /api/capsules` - å‰µå»ºæ–°è† å›Š
- `PUT /api/capsules/:id` - æ›´æ–°è† å›Š
- `DELETE /api/capsules/:id` - åˆªé™¤è† å›Š
- `POST /api/capsules/:id/unlock` - è§£é–è† å›Š

è©³ç´° API æ–‡æª”è«‹åƒè€ƒ [API.md](./docs/API.md)

## ğŸš€ éƒ¨ç½²æŒ‡å—

### ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²

1. **æº–å‚™ä¼ºæœå™¨**
   ```bash
   # å®‰è£ Docker å’Œ Docker Compose
   curl -fsSL https://get.docker.com -o get-docker.sh
   sh get-docker.sh
   
   # å®‰è£ Docker Compose
   sudo curl -L "https://github.com/docker/compose/releases/download/v2.20.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
   sudo chmod +x /usr/local/bin/docker-compose
   ```

2. **é…ç½®ç’°å¢ƒè®Šæ•¸**
   ```bash
   # è¤‡è£½ç”Ÿç”¢ç’°å¢ƒé…ç½®
   cp docker-compose.prod.yml docker-compose.yml
   
   # ç·¨è¼¯ç”Ÿç”¢ç’°å¢ƒè®Šæ•¸
   nano .env.production
   ```

3. **å•Ÿå‹•æœå‹™**
   ```bash
   # å»ºæ§‹ä¸¦å•Ÿå‹•ç”Ÿç”¢ç’°å¢ƒ
   docker-compose -f docker-compose.prod.yml up -d --build
   ```

### ç›£æ§èˆ‡ç¶­è­·

```bash
# æŸ¥çœ‹æœå‹™ç‹€æ…‹
docker-compose ps

# æŸ¥çœ‹æ—¥èªŒ
docker-compose logs -f

# é‡å•Ÿæœå‹™
docker-compose restart

# æ›´æ–°æœå‹™
docker-compose pull
docker-compose up -d
```

## ğŸ¤ è²¢ç»æŒ‡å—

1. Fork å°ˆæ¡ˆ
2. å‰µå»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤è®Šæ›´ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. é–‹å•Ÿ Pull Request

## ğŸ“„ æˆæ¬Šæ¢æ¬¾

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Šæ¢æ¬¾ - è©³è¦‹ [LICENSE](LICENSE) æª”æ¡ˆ

## ğŸ“ æ”¯æ´èˆ‡è¯çµ¡

- **å°ˆæ¡ˆç¶­è­·è€…**: Re:li Team
- **Email**: support@reli.app
- **Issues**: [GitHub Issues](https://github.com/your-org/re-li/issues)
- **æ–‡æª”**: [å°ˆæ¡ˆæ–‡æª”](./docs/)

## ğŸ™ è‡´è¬

- React ç¤¾ç¾¤æä¾›çš„å„ªç§€æ¡†æ¶
- Tailwind CSS åœ˜éšŠçš„è¨­è¨ˆç³»çµ±
- LINE é–‹ç™¼è€…å¹³å°çš„æ”¯æ´
- æ‰€æœ‰é–‹æºè²¢ç»è€…çš„ç„¡ç§å¥‰ç»

---

<div align="center">
  <p>Made with â¤ï¸ by Re:li Team</p>
  <p>é‡æ–°é€£çµéå»èˆ‡æœªä¾†çš„ç¾å¥½</p>
</div>