import {
  __commonJS,
  __toESM
} from "./chunk-ROME4SDB.js";

// node_modules/tiny-sha256/index.js
var require_tiny_sha256 = __commonJS({
  "node_modules/tiny-sha256/index.js"(exports, module) {
    (function(global2, factory) {
      if (typeof define === "function" && define.amd) {
        define([], factory);
      } else if (typeof module !== "undefined" && module.exports) {
        module.exports = factory();
      } else {
        global2.sha256 = factory();
      }
    })(exports, function() {
      var sha256 = function sha2562(ascii) {
        function rightRotate(value, amount) {
          return value >>> amount | value << 32 - amount;
        }
        ;
        var mathPow = Math.pow;
        var maxWord = mathPow(2, 32);
        var lengthProperty = "length";
        var i7, j3;
        var result = "";
        var words = [];
        var asciiBitLength = ascii[lengthProperty] * 8;
        var hash = sha2562.h = sha2562.h || [];
        var k4 = sha2562.k = sha2562.k || [];
        var primeCounter = k4[lengthProperty];
        var isComposite = {};
        for (var candidate = 2; primeCounter < 64; candidate++) {
          if (!isComposite[candidate]) {
            for (i7 = 0; i7 < 313; i7 += candidate) {
              isComposite[i7] = candidate;
            }
            hash[primeCounter] = mathPow(candidate, 0.5) * maxWord | 0;
            k4[primeCounter++] = mathPow(candidate, 1 / 3) * maxWord | 0;
          }
        }
        ascii += "";
        while (ascii[lengthProperty] % 64 - 56)
          ascii += "\0";
        for (i7 = 0; i7 < ascii[lengthProperty]; i7++) {
          j3 = ascii.charCodeAt(i7);
          if (j3 >> 8)
            return;
          words[i7 >> 2] |= j3 << (3 - i7) % 4 * 8;
        }
        words[words[lengthProperty]] = asciiBitLength / maxWord | 0;
        words[words[lengthProperty]] = asciiBitLength;
        for (j3 = 0; j3 < words[lengthProperty]; ) {
          var w8 = words.slice(j3, j3 += 16);
          var oldHash = hash;
          hash = hash.slice(0, 8);
          for (i7 = 0; i7 < 64; i7++) {
            var i22 = i7 + j3;
            var w15 = w8[i7 - 15], w22 = w8[i7 - 2];
            var a10 = hash[0], e11 = hash[4];
            var temp1 = hash[7] + (rightRotate(e11, 6) ^ rightRotate(e11, 11) ^ rightRotate(e11, 25)) + (e11 & hash[5] ^ ~e11 & hash[6]) + k4[i7] + (w8[i7] = i7 < 16 ? w8[i7] : w8[i7 - 16] + (rightRotate(w15, 7) ^ rightRotate(w15, 18) ^ w15 >>> 3) + w8[i7 - 7] + (rightRotate(w22, 17) ^ rightRotate(w22, 19) ^ w22 >>> 10) | 0);
            var temp2 = (rightRotate(a10, 2) ^ rightRotate(a10, 13) ^ rightRotate(a10, 22)) + (a10 & hash[1] ^ a10 & hash[2] ^ hash[1] & hash[2]);
            hash = [temp1 + temp2 | 0].concat(hash);
            hash[4] = hash[4] + temp1 | 0;
          }
          for (i7 = 0; i7 < 8; i7++) {
            hash[i7] = hash[i7] + oldHash[i7] | 0;
          }
        }
        for (i7 = 0; i7 < 8; i7++) {
          for (j3 = 3; j3 + 1; j3--) {
            var b6 = hash[i7] >> j3 * 8 & 255;
            result += (b6 < 16 ? 0 : "") + b6.toString(16);
          }
        }
        return result;
      };
      sha256.code = 'var sha256=function a(b){function c(a,b){return a>>>b|a<<32-b}for(var d,e,f=Math.pow,g=f(2,32),h="length",i="",j=[],k=8*b[h],l=a.h=a.h||[],m=a.k=a.k||[],n=m[h],o={},p=2;64>n;p++)if(!o[p]){for(d=0;313>d;d+=p)o[d]=p;l[n]=f(p,.5)*g|0,m[n++]=f(p,1/3)*g|0}for(b+="\\x80";b[h]%64-56;)b+="\\x00";for(d=0;d<b[h];d++){if(e=b.charCodeAt(d),e>>8)return;j[d>>2]|=e<<(3-d)%4*8}for(j[j[h]]=k/g|0,j[j[h]]=k,e=0;e<j[h];){var q=j.slice(e,e+=16),r=l;for(l=l.slice(0,8),d=0;64>d;d++){var s=q[d-15],t=q[d-2],u=l[0],v=l[4],w=l[7]+(c(v,6)^c(v,11)^c(v,25))+(v&l[5]^~v&l[6])+m[d]+(q[d]=16>d?q[d]:q[d-16]+(c(s,7)^c(s,18)^s>>>3)+q[d-7]+(c(t,17)^c(t,19)^t>>>10)|0),x=(c(u,2)^c(u,13)^c(u,22))+(u&l[1]^u&l[2]^l[1]&l[2]);l=[w+x|0].concat(l),l[4]=l[4]+w|0}for(d=0;8>d;d++)l[d]=l[d]+r[d]|0}for(d=0;8>d;d++)for(e=3;e+1;e--){var y=l[d]>>8*e&255;i+=(16>y?0:"")+y.toString(16)}return i};';
      return sha256;
    });
  }
});

// node_modules/whatwg-fetch/fetch.js
var g = typeof globalThis !== "undefined" && globalThis || typeof self !== "undefined" && self || // eslint-disable-next-line no-undef
typeof global !== "undefined" && global || {};
var support = {
  searchParams: "URLSearchParams" in g,
  iterable: "Symbol" in g && "iterator" in Symbol,
  blob: "FileReader" in g && "Blob" in g && function() {
    try {
      new Blob();
      return true;
    } catch (e11) {
      return false;
    }
  }(),
  formData: "FormData" in g,
  arrayBuffer: "ArrayBuffer" in g
};
function isDataView(obj) {
  return obj && DataView.prototype.isPrototypeOf(obj);
}
if (support.arrayBuffer) {
  viewClasses = [
    "[object Int8Array]",
    "[object Uint8Array]",
    "[object Uint8ClampedArray]",
    "[object Int16Array]",
    "[object Uint16Array]",
    "[object Int32Array]",
    "[object Uint32Array]",
    "[object Float32Array]",
    "[object Float64Array]"
  ];
  isArrayBufferView = ArrayBuffer.isView || function(obj) {
    return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1;
  };
}
var viewClasses;
var isArrayBufferView;
function normalizeName(name) {
  if (typeof name !== "string") {
    name = String(name);
  }
  if (/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(name) || name === "") {
    throw new TypeError('Invalid character in header field name: "' + name + '"');
  }
  return name.toLowerCase();
}
function normalizeValue(value) {
  if (typeof value !== "string") {
    value = String(value);
  }
  return value;
}
function iteratorFor(items) {
  var iterator = {
    next: function() {
      var value = items.shift();
      return { done: value === void 0, value };
    }
  };
  if (support.iterable) {
    iterator[Symbol.iterator] = function() {
      return iterator;
    };
  }
  return iterator;
}
function Headers(headers) {
  this.map = {};
  if (headers instanceof Headers) {
    headers.forEach(function(value, name) {
      this.append(name, value);
    }, this);
  } else if (Array.isArray(headers)) {
    headers.forEach(function(header) {
      if (header.length != 2) {
        throw new TypeError("Headers constructor: expected name/value pair to be length 2, found" + header.length);
      }
      this.append(header[0], header[1]);
    }, this);
  } else if (headers) {
    Object.getOwnPropertyNames(headers).forEach(function(name) {
      this.append(name, headers[name]);
    }, this);
  }
}
Headers.prototype.append = function(name, value) {
  name = normalizeName(name);
  value = normalizeValue(value);
  var oldValue = this.map[name];
  this.map[name] = oldValue ? oldValue + ", " + value : value;
};
Headers.prototype["delete"] = function(name) {
  delete this.map[normalizeName(name)];
};
Headers.prototype.get = function(name) {
  name = normalizeName(name);
  return this.has(name) ? this.map[name] : null;
};
Headers.prototype.has = function(name) {
  return this.map.hasOwnProperty(normalizeName(name));
};
Headers.prototype.set = function(name, value) {
  this.map[normalizeName(name)] = normalizeValue(value);
};
Headers.prototype.forEach = function(callback, thisArg) {
  for (var name in this.map) {
    if (this.map.hasOwnProperty(name)) {
      callback.call(thisArg, this.map[name], name, this);
    }
  }
};
Headers.prototype.keys = function() {
  var items = [];
  this.forEach(function(value, name) {
    items.push(name);
  });
  return iteratorFor(items);
};
Headers.prototype.values = function() {
  var items = [];
  this.forEach(function(value) {
    items.push(value);
  });
  return iteratorFor(items);
};
Headers.prototype.entries = function() {
  var items = [];
  this.forEach(function(value, name) {
    items.push([name, value]);
  });
  return iteratorFor(items);
};
if (support.iterable) {
  Headers.prototype[Symbol.iterator] = Headers.prototype.entries;
}
function consumed(body) {
  if (body._noBody)
    return;
  if (body.bodyUsed) {
    return Promise.reject(new TypeError("Already read"));
  }
  body.bodyUsed = true;
}
function fileReaderReady(reader) {
  return new Promise(function(resolve, reject) {
    reader.onload = function() {
      resolve(reader.result);
    };
    reader.onerror = function() {
      reject(reader.error);
    };
  });
}
function readBlobAsArrayBuffer(blob) {
  var reader = new FileReader();
  var promise = fileReaderReady(reader);
  reader.readAsArrayBuffer(blob);
  return promise;
}
function readBlobAsText(blob) {
  var reader = new FileReader();
  var promise = fileReaderReady(reader);
  var match = /charset=([A-Za-z0-9_-]+)/.exec(blob.type);
  var encoding = match ? match[1] : "utf-8";
  reader.readAsText(blob, encoding);
  return promise;
}
function readArrayBufferAsText(buf) {
  var view = new Uint8Array(buf);
  var chars = new Array(view.length);
  for (var i7 = 0; i7 < view.length; i7++) {
    chars[i7] = String.fromCharCode(view[i7]);
  }
  return chars.join("");
}
function bufferClone(buf) {
  if (buf.slice) {
    return buf.slice(0);
  } else {
    var view = new Uint8Array(buf.byteLength);
    view.set(new Uint8Array(buf));
    return view.buffer;
  }
}
function Body() {
  this.bodyUsed = false;
  this._initBody = function(body) {
    this.bodyUsed = this.bodyUsed;
    this._bodyInit = body;
    if (!body) {
      this._noBody = true;
      this._bodyText = "";
    } else if (typeof body === "string") {
      this._bodyText = body;
    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {
      this._bodyBlob = body;
    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {
      this._bodyFormData = body;
    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
      this._bodyText = body.toString();
    } else if (support.arrayBuffer && support.blob && isDataView(body)) {
      this._bodyArrayBuffer = bufferClone(body.buffer);
      this._bodyInit = new Blob([this._bodyArrayBuffer]);
    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {
      this._bodyArrayBuffer = bufferClone(body);
    } else {
      this._bodyText = body = Object.prototype.toString.call(body);
    }
    if (!this.headers.get("content-type")) {
      if (typeof body === "string") {
        this.headers.set("content-type", "text/plain;charset=UTF-8");
      } else if (this._bodyBlob && this._bodyBlob.type) {
        this.headers.set("content-type", this._bodyBlob.type);
      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
        this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8");
      }
    }
  };
  if (support.blob) {
    this.blob = function() {
      var rejected = consumed(this);
      if (rejected) {
        return rejected;
      }
      if (this._bodyBlob) {
        return Promise.resolve(this._bodyBlob);
      } else if (this._bodyArrayBuffer) {
        return Promise.resolve(new Blob([this._bodyArrayBuffer]));
      } else if (this._bodyFormData) {
        throw new Error("could not read FormData body as blob");
      } else {
        return Promise.resolve(new Blob([this._bodyText]));
      }
    };
  }
  this.arrayBuffer = function() {
    if (this._bodyArrayBuffer) {
      var isConsumed = consumed(this);
      if (isConsumed) {
        return isConsumed;
      } else if (ArrayBuffer.isView(this._bodyArrayBuffer)) {
        return Promise.resolve(
          this._bodyArrayBuffer.buffer.slice(
            this._bodyArrayBuffer.byteOffset,
            this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength
          )
        );
      } else {
        return Promise.resolve(this._bodyArrayBuffer);
      }
    } else if (support.blob) {
      return this.blob().then(readBlobAsArrayBuffer);
    } else {
      throw new Error("could not read as ArrayBuffer");
    }
  };
  this.text = function() {
    var rejected = consumed(this);
    if (rejected) {
      return rejected;
    }
    if (this._bodyBlob) {
      return readBlobAsText(this._bodyBlob);
    } else if (this._bodyArrayBuffer) {
      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));
    } else if (this._bodyFormData) {
      throw new Error("could not read FormData body as text");
    } else {
      return Promise.resolve(this._bodyText);
    }
  };
  if (support.formData) {
    this.formData = function() {
      return this.text().then(decode);
    };
  }
  this.json = function() {
    return this.text().then(JSON.parse);
  };
  return this;
}
var methods = ["CONNECT", "DELETE", "GET", "HEAD", "OPTIONS", "PATCH", "POST", "PUT", "TRACE"];
function normalizeMethod(method) {
  var upcased = method.toUpperCase();
  return methods.indexOf(upcased) > -1 ? upcased : method;
}
function Request(input, options) {
  if (!(this instanceof Request)) {
    throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');
  }
  options = options || {};
  var body = options.body;
  if (input instanceof Request) {
    if (input.bodyUsed) {
      throw new TypeError("Already read");
    }
    this.url = input.url;
    this.credentials = input.credentials;
    if (!options.headers) {
      this.headers = new Headers(input.headers);
    }
    this.method = input.method;
    this.mode = input.mode;
    this.signal = input.signal;
    if (!body && input._bodyInit != null) {
      body = input._bodyInit;
      input.bodyUsed = true;
    }
  } else {
    this.url = String(input);
  }
  this.credentials = options.credentials || this.credentials || "same-origin";
  if (options.headers || !this.headers) {
    this.headers = new Headers(options.headers);
  }
  this.method = normalizeMethod(options.method || this.method || "GET");
  this.mode = options.mode || this.mode || null;
  this.signal = options.signal || this.signal || function() {
    if ("AbortController" in g) {
      var ctrl = new AbortController();
      return ctrl.signal;
    }
  }();
  this.referrer = null;
  if ((this.method === "GET" || this.method === "HEAD") && body) {
    throw new TypeError("Body not allowed for GET or HEAD requests");
  }
  this._initBody(body);
  if (this.method === "GET" || this.method === "HEAD") {
    if (options.cache === "no-store" || options.cache === "no-cache") {
      var reParamSearch = /([?&])_=[^&]*/;
      if (reParamSearch.test(this.url)) {
        this.url = this.url.replace(reParamSearch, "$1_=" + (/* @__PURE__ */ new Date()).getTime());
      } else {
        var reQueryString = /\?/;
        this.url += (reQueryString.test(this.url) ? "&" : "?") + "_=" + (/* @__PURE__ */ new Date()).getTime();
      }
    }
  }
}
Request.prototype.clone = function() {
  return new Request(this, { body: this._bodyInit });
};
function decode(body) {
  var form = new FormData();
  body.trim().split("&").forEach(function(bytes) {
    if (bytes) {
      var split = bytes.split("=");
      var name = split.shift().replace(/\+/g, " ");
      var value = split.join("=").replace(/\+/g, " ");
      form.append(decodeURIComponent(name), decodeURIComponent(value));
    }
  });
  return form;
}
function parseHeaders(rawHeaders) {
  var headers = new Headers();
  var preProcessedHeaders = rawHeaders.replace(/\r?\n[\t ]+/g, " ");
  preProcessedHeaders.split("\r").map(function(header) {
    return header.indexOf("\n") === 0 ? header.substr(1, header.length) : header;
  }).forEach(function(line) {
    var parts = line.split(":");
    var key = parts.shift().trim();
    if (key) {
      var value = parts.join(":").trim();
      try {
        headers.append(key, value);
      } catch (error) {
        console.warn("Response " + error.message);
      }
    }
  });
  return headers;
}
Body.call(Request.prototype);
function Response(bodyInit, options) {
  if (!(this instanceof Response)) {
    throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');
  }
  if (!options) {
    options = {};
  }
  this.type = "default";
  this.status = options.status === void 0 ? 200 : options.status;
  if (this.status < 200 || this.status > 599) {
    throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");
  }
  this.ok = this.status >= 200 && this.status < 300;
  this.statusText = options.statusText === void 0 ? "" : "" + options.statusText;
  this.headers = new Headers(options.headers);
  this.url = options.url || "";
  this._initBody(bodyInit);
}
Body.call(Response.prototype);
Response.prototype.clone = function() {
  return new Response(this._bodyInit, {
    status: this.status,
    statusText: this.statusText,
    headers: new Headers(this.headers),
    url: this.url
  });
};
Response.error = function() {
  var response = new Response(null, { status: 200, statusText: "" });
  response.ok = false;
  response.status = 0;
  response.type = "error";
  return response;
};
var redirectStatuses = [301, 302, 303, 307, 308];
Response.redirect = function(url, status) {
  if (redirectStatuses.indexOf(status) === -1) {
    throw new RangeError("Invalid status code");
  }
  return new Response(null, { status, headers: { location: url } });
};
var DOMException = g.DOMException;
try {
  new DOMException();
} catch (err) {
  DOMException = function(message, name) {
    this.message = message;
    this.name = name;
    var error = Error(message);
    this.stack = error.stack;
  };
  DOMException.prototype = Object.create(Error.prototype);
  DOMException.prototype.constructor = DOMException;
}
function fetch2(input, init) {
  return new Promise(function(resolve, reject) {
    var request = new Request(input, init);
    if (request.signal && request.signal.aborted) {
      return reject(new DOMException("Aborted", "AbortError"));
    }
    var xhr = new XMLHttpRequest();
    function abortXhr() {
      xhr.abort();
    }
    xhr.onload = function() {
      var options = {
        statusText: xhr.statusText,
        headers: parseHeaders(xhr.getAllResponseHeaders() || "")
      };
      if (request.url.indexOf("file://") === 0 && (xhr.status < 200 || xhr.status > 599)) {
        options.status = 200;
      } else {
        options.status = xhr.status;
      }
      options.url = "responseURL" in xhr ? xhr.responseURL : options.headers.get("X-Request-URL");
      var body = "response" in xhr ? xhr.response : xhr.responseText;
      setTimeout(function() {
        resolve(new Response(body, options));
      }, 0);
    };
    xhr.onerror = function() {
      setTimeout(function() {
        reject(new TypeError("Network request failed"));
      }, 0);
    };
    xhr.ontimeout = function() {
      setTimeout(function() {
        reject(new TypeError("Network request timed out"));
      }, 0);
    };
    xhr.onabort = function() {
      setTimeout(function() {
        reject(new DOMException("Aborted", "AbortError"));
      }, 0);
    };
    function fixUrl(url) {
      try {
        return url === "" && g.location.href ? g.location.href : url;
      } catch (e11) {
        return url;
      }
    }
    xhr.open(request.method, fixUrl(request.url), true);
    if (request.credentials === "include") {
      xhr.withCredentials = true;
    } else if (request.credentials === "omit") {
      xhr.withCredentials = false;
    }
    if ("responseType" in xhr) {
      if (support.blob) {
        xhr.responseType = "blob";
      } else if (support.arrayBuffer) {
        xhr.responseType = "arraybuffer";
      }
    }
    if (init && typeof init.headers === "object" && !(init.headers instanceof Headers || g.Headers && init.headers instanceof g.Headers)) {
      var names = [];
      Object.getOwnPropertyNames(init.headers).forEach(function(name) {
        names.push(normalizeName(name));
        xhr.setRequestHeader(name, normalizeValue(init.headers[name]));
      });
      request.headers.forEach(function(value, name) {
        if (names.indexOf(name) === -1) {
          xhr.setRequestHeader(name, value);
        }
      });
    } else {
      request.headers.forEach(function(value, name) {
        xhr.setRequestHeader(name, value);
      });
    }
    if (request.signal) {
      request.signal.addEventListener("abort", abortXhr);
      xhr.onreadystatechange = function() {
        if (xhr.readyState === 4) {
          request.signal.removeEventListener("abort", abortXhr);
        }
      };
    }
    xhr.send(typeof request._bodyInit === "undefined" ? null : request._bodyInit);
  });
}
fetch2.polyfill = true;
if (!g.fetch) {
  g.fetch = fetch2;
  g.Headers = Headers;
  g.Request = Request;
  g.Response = Response;
}

// node_modules/tslib/tslib.es6.mjs
var extendStatics = function(d8, b6) {
  extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d9, b7) {
    d9.__proto__ = b7;
  } || function(d9, b7) {
    for (var p12 in b7)
      if (Object.prototype.hasOwnProperty.call(b7, p12))
        d9[p12] = b7[p12];
  };
  return extendStatics(d8, b6);
};
function __extends(d8, b6) {
  if (typeof b6 !== "function" && b6 !== null)
    throw new TypeError("Class extends value " + String(b6) + " is not a constructor or null");
  extendStatics(d8, b6);
  function __() {
    this.constructor = d8;
  }
  d8.prototype = b6 === null ? Object.create(b6) : (__.prototype = b6.prototype, new __());
}
var __assign = function() {
  __assign = Object.assign || function __assign2(t2) {
    for (var s12, i7 = 1, n6 = arguments.length; i7 < n6; i7++) {
      s12 = arguments[i7];
      for (var p12 in s12)
        if (Object.prototype.hasOwnProperty.call(s12, p12))
          t2[p12] = s12[p12];
    }
    return t2;
  };
  return __assign.apply(this, arguments);
};
function __awaiter(thisArg, _arguments, P6, generator) {
  function adopt(value) {
    return value instanceof P6 ? value : new P6(function(resolve) {
      resolve(value);
    });
  }
  return new (P6 || (P6 = Promise))(function(resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e11) {
        reject(e11);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e11) {
        reject(e11);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
}
function __generator(thisArg, body) {
  var _4 = { label: 0, sent: function() {
    if (t2[0] & 1)
      throw t2[1];
    return t2[1];
  }, trys: [], ops: [] }, f14, y6, t2, g9 = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
  return g9.next = verb(0), g9["throw"] = verb(1), g9["return"] = verb(2), typeof Symbol === "function" && (g9[Symbol.iterator] = function() {
    return this;
  }), g9;
  function verb(n6) {
    return function(v7) {
      return step([n6, v7]);
    };
  }
  function step(op) {
    if (f14)
      throw new TypeError("Generator is already executing.");
    while (g9 && (g9 = 0, op[0] && (_4 = 0)), _4)
      try {
        if (f14 = 1, y6 && (t2 = op[0] & 2 ? y6["return"] : op[0] ? y6["throw"] || ((t2 = y6["return"]) && t2.call(y6), 0) : y6.next) && !(t2 = t2.call(y6, op[1])).done)
          return t2;
        if (y6 = 0, t2)
          op = [op[0] & 2, t2.value];
        switch (op[0]) {
          case 0:
          case 1:
            t2 = op;
            break;
          case 4:
            _4.label++;
            return { value: op[1], done: false };
          case 5:
            _4.label++;
            y6 = op[1];
            op = [0];
            continue;
          case 7:
            op = _4.ops.pop();
            _4.trys.pop();
            continue;
          default:
            if (!(t2 = _4.trys, t2 = t2.length > 0 && t2[t2.length - 1]) && (op[0] === 6 || op[0] === 2)) {
              _4 = 0;
              continue;
            }
            if (op[0] === 3 && (!t2 || op[1] > t2[0] && op[1] < t2[3])) {
              _4.label = op[1];
              break;
            }
            if (op[0] === 6 && _4.label < t2[1]) {
              _4.label = t2[1];
              t2 = op;
              break;
            }
            if (t2 && _4.label < t2[2]) {
              _4.label = t2[2];
              _4.ops.push(op);
              break;
            }
            if (t2[2])
              _4.ops.pop();
            _4.trys.pop();
            continue;
        }
        op = body.call(thisArg, _4);
      } catch (e11) {
        op = [6, e11];
        y6 = 0;
      } finally {
        f14 = t2 = 0;
      }
    if (op[0] & 5)
      throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
}
function __values(o6) {
  var s12 = typeof Symbol === "function" && Symbol.iterator, m9 = s12 && o6[s12], i7 = 0;
  if (m9)
    return m9.call(o6);
  if (o6 && typeof o6.length === "number")
    return {
      next: function() {
        if (o6 && i7 >= o6.length)
          o6 = void 0;
        return { value: o6 && o6[i7++], done: !o6 };
      }
    };
  throw new TypeError(s12 ? "Object is not iterable." : "Symbol.iterator is not defined.");
}
function __read(o6, n6) {
  var m9 = typeof Symbol === "function" && o6[Symbol.iterator];
  if (!m9)
    return o6;
  var i7 = m9.call(o6), r10, ar = [], e11;
  try {
    while ((n6 === void 0 || n6-- > 0) && !(r10 = i7.next()).done)
      ar.push(r10.value);
  } catch (error) {
    e11 = { error };
  } finally {
    try {
      if (r10 && !r10.done && (m9 = i7["return"]))
        m9.call(i7);
    } finally {
      if (e11)
        throw e11.error;
    }
  }
  return ar;
}
function __spreadArray(to, from, pack) {
  if (pack || arguments.length === 2)
    for (var i7 = 0, l14 = from.length, ar; i7 < l14; i7++) {
      if (ar || !(i7 in from)) {
        if (!ar)
          ar = Array.prototype.slice.call(from, 0, i7);
        ar[i7] = from[i7];
      }
    }
  return to.concat(ar || Array.prototype.slice.call(from));
}
function __makeTemplateObject(cooked, raw) {
  if (Object.defineProperty) {
    Object.defineProperty(cooked, "raw", { value: raw });
  } else {
    cooked.raw = raw;
  }
  return cooked;
}

// node_modules/@liff/logger/lib/index.es.js
var n;
!function(o6) {
  o6[o6.DEBUG = 1] = "DEBUG", o6[o6.INFO = 2] = "INFO", o6[o6.WARN = 3] = "WARN", o6[o6.ERROR = 4] = "ERROR";
}(n || (n = {}));
var r = function() {
  function r10(o6) {
    void 0 === o6 && (o6 = n.INFO), this.logLevel = o6, this._debug = console.debug, this._info = console.info, this._warn = console.warn, this._error = console.error;
  }
  return r10.prototype.debug = function() {
    for (var r11 = [], i7 = 0; i7 < arguments.length; i7++)
      r11[i7] = arguments[i7];
    this.logLevel <= n.DEBUG && (r11.unshift("[DEBUG]"), this._debug.apply(this, __spreadArray([], __read(r11), false)));
  }, r10.prototype.info = function() {
    for (var r11 = [], i7 = 0; i7 < arguments.length; i7++)
      r11[i7] = arguments[i7];
    this.logLevel <= n.INFO && (r11.unshift("[INFO]"), this._info.apply(this, __spreadArray([], __read(r11), false)));
  }, r10.prototype.warn = function() {
    for (var r11 = [], i7 = 0; i7 < arguments.length; i7++)
      r11[i7] = arguments[i7];
    this.logLevel <= n.WARN && (r11.unshift("[WARN]"), this._warn.apply(this, __spreadArray([], __read(r11), false)));
  }, r10.prototype.error = function() {
    for (var r11 = [], i7 = 0; i7 < arguments.length; i7++)
      r11[i7] = arguments[i7];
    this.logLevel <= n.ERROR && (r11.unshift("[ERROR]"), this._error.apply(this, __spreadArray([], __read(r11), false)));
  }, r10;
}();
var i = new r(Number("3"));

// node_modules/@liff/use/lib/index.es.js
var i2 = function(t2, e11) {
  this._driver = t2, this.liff = e11, this.hooks = this._driver.hooks, this.internalHooks = this._driver.internalHooks;
};
var r2 = function(t2, e11) {
  this._driver = t2, this.liff = e11, this.hooks = this._driver.hooks;
};
var s = function() {
  function t2(t3, e11) {
    this.pluginCtx = new r2(t3, e11), this.moduleCtx = new i2(t3, e11);
  }
  return Object.defineProperty(t2.prototype, "pluginContext", { get: function() {
    return this.pluginCtx;
  }, enumerable: false, configurable: true }), Object.defineProperty(t2.prototype, "moduleContext", { get: function() {
    return this.moduleCtx;
  }, enumerable: false, configurable: true }), t2;
}();
var u = function() {
  function n6() {
    this.modules = /* @__PURE__ */ new Map(), this.hooks = {}, this.internalHooks = {};
  }
  return n6.prototype.addModule = function(n7, o6) {
    this.modules.set(n7, o6), o6.hooks && (this.hooks[n7] = Object.entries(o6.hooks).reduce(function(n8, o7) {
      var i7, r10 = __read(o7, 2), s12 = r10[0], u12 = r10[1];
      return __assign(__assign({}, n8), ((i7 = {})[s12] = u12.on.bind(u12), i7));
    }, {})), "internalHooks" in o6 && o6.internalHooks && (this.internalHooks[n7] = Object.entries(o6.internalHooks).reduce(function(n8, o7) {
      var i7, r10 = __read(o7, 2), s12 = r10[0], u12 = r10[1];
      return __assign(__assign({}, n8), ((i7 = {})[s12] = u12.on.bind(u12), i7));
    }, {}));
  }, n6.prototype.hasModule = function(t2) {
    return this.modules.has(t2);
  }, n6;
}();
var a = function() {
};
var l = function(t2) {
  return t2 instanceof a;
};
var c = function(t2) {
  function e11(e12, n6, o6) {
    var i7 = t2.call(this) || this;
    return i7.driver = e12, i7.contextHolder = n6, i7.option = o6, i7;
  }
  return __extends(e11, t2), e11.prototype.install = function() {
    return this.factory(this.driver, this.contextHolder);
  }, Object.defineProperty(e11.prototype, "name", { get: function() {
    return "use";
  }, enumerable: false, configurable: true }), Object.defineProperty(e11.prototype, "defaultOption", { get: function() {
    return { namespacePrefix: "$" };
  }, enumerable: false, configurable: true }), e11.prototype.factory = function(t3, e12) {
    var n6 = Object.assign({}, this.defaultOption, this.option).namespacePrefix;
    return function(i7, r10) {
      if (!i7 || "function" != typeof i7.install || "string" != typeof i7.name)
        return i.warn("To install the plugin, you need to define the `name` property and the `install` method."), this;
      var s12 = l(i7) ? i7.name : "".concat(n6).concat(i7.name);
      if (t3.hasModule(s12))
        return this;
      var u12 = l(i7) ? i7.install.call(i7, e12.moduleContext, r10) : i7.install.call(i7, e12.pluginContext, r10);
      return this["".concat(s12)] ? (i.warn("There is a duplicate plugin name. `".concat(s12, "` plugin namespace will be override.")), this["".concat(s12)] = u12) : void 0 !== u12 && (this["".concat(s12)] = u12), t3.addModule(s12, i7), this;
    };
  }, e11;
}(a);

// node_modules/@liff/ready/lib/index.es.js
var e;
var n2 = new Promise(function(n6) {
  e = n6;
});

// node_modules/@liff/consts/lib/index.es.js
var e2 = "UNKNOWN";
var t = "UNAUTHORIZED";
var i3 = "INVALID_ARGUMENT";
var I = "INIT_FAILED";
var E = "FORBIDDEN";
var n3 = "INVALID_CONFIG";
var T = "INVALID_ID_TOKEN";
var f = "CREATE_SUBWINDOW_FAILED";
var N = "EXCEPTION_IN_SUBWINDOW";
var o = "liffEvent";
var l2 = "LIFF_STORE";
var s2 = "https://liff.".concat("line.me", "/");
var a2 = "https://miniapp.".concat("line.me", "/");
var c2 = { ACCESS_TOKEN: "accessToken", ID_TOKEN: "IDToken", DECODED_ID_TOKEN: "decodedIDToken", FEATURE_TOKEN: "featureToken", LOGIN_TMP: "loginTmp", CONFIG: "config", CONTEXT: "context", EXPIRES: "expires", RAW_CONTEXT: "rawContext", CLIENT_ID: "clientId", IS_SUBSEQUENT_LIFF_APP: "isSubsequentLiffApp", MST_CHALLENGE: "mstChallenge", MSIT: "msit", MST: "mst", MST_VERIFIER: "mstVerifier", APP_DATA: "appData" };
var r3 = "isInClient";
var D = ["context_token", "feature_token", "access_token", "id_token", "client_id", "mst_verifier", "mst_challenge", "msit"];
var O = 5;
var A = ["liff.ref.source", "liff.ref.medium", "liff.ref.campaign", "liff.ref.term", "liff.ref.content"];
var m = "liff://subwindow";
var C = { INIT: "init", SUBMIT: "submit", CANCEL: "cancel", CLOSE: "close", ERROR: "error" };
var p = 100;
var S = 100;
var L = "liff.subwindow";
var R = "healthCheck";
var U = ["profile", "chat_message.write", "openid", "email"];

// node_modules/@liff/util/lib/index.es.js
function c3(n6) {
  return window.atob(n6.replace(/-/g, "+").replace(/_/g, "/"));
}
var u2 = { decode: c3, encode: function(n6) {
  return window.btoa(n6).replace(/\+/g, "-").replace(/\//g, "_").replace(/=+$/, "");
}, decodeUnicode: function(n6) {
  var r10 = c3(n6).split("").map(function(n7) {
    return "%" + ("00" + n7.charCodeAt(0).toString(16)).slice(-2);
  }).join("");
  return decodeURIComponent(r10);
} };
function f2(n6, r10) {
  if (n6 === r10)
    return 0;
  for (var t2 = n6.split("."), e11 = r10.split("."), o6 = Math.max(t2.length, e11.length), i7 = 0; i7 < o6; i7++) {
    t2[i7] || (t2[i7] = "0"), e11[i7] || (e11[i7] = "0");
    var a10 = parseInt(t2[i7]) - parseInt(e11[i7]);
    if (0 !== a10)
      return a10 > 0 ? 1 : -1;
  }
  return 0;
}
function s3(r10) {
  var t2 = r10.replace("#", "").match(/.{2}/g) || [];
  if (4 !== t2.length)
    return i.warn("convertArgbToRgba: Received invalid ARGB color"), "";
  var e11 = function(n6) {
    var r11 = p2(n6);
    return Math.round(r11 / 255 * 100) / 100;
  }(t2[0]), o6 = p2(t2[1]), i7 = p2(t2[2]), a10 = p2(t2[3]);
  return "rgba(".concat(o6, ", ").concat(i7, ", ").concat(a10, ", ").concat(e11, ")");
}
function p2(n6) {
  return parseInt(n6, 16);
}
function d(r10) {
  var t2 = r10.replace("#", "").match(/.{2}/g) || [];
  if (3 !== t2.length)
    return i.warn("convertArgbToRgba: Received invalid hex color"), "";
  var e11 = p2(t2[0]), o6 = p2(t2[1]), i7 = p2(t2[2]);
  return "".concat(e11, ", ").concat(o6, ", ").concat(i7);
}
function l3(n6) {
  for (var r10 = n6.length, t2 = new ArrayBuffer(r10), e11 = new Uint8Array(t2), o6 = 0; o6 < r10; o6++)
    e11[o6] = n6.charCodeAt(o6);
  return t2;
}
var v = { get: function(n6) {
  var r10 = new RegExp("(?:(?:^|.*;\\s*)".concat(n6, "\\s*\\=\\s*([^;]*).*$)|^.*$"));
  return document.cookie.replace(r10, "$1");
}, set: function(r10, t2, e11) {
  var o6 = r10 + "=" + t2;
  if (e11)
    for (var i7 in e11) {
      var a10 = e11[i7] ? "=".concat(e11[i7]) : "";
      o6 += "; ".concat(i7).concat(a10);
    }
  i.debug("set cookie", o6), document.cookie = o6;
}, remove: function(n6, r10) {
  var t2 = "".concat(n6, "=; expires=Thu, 01 Jan 1970 00:00:00 GMT");
  if (r10)
    for (var e11 in r10)
      t2 += "; ".concat(e11, "=").concat(r10[e11]);
  document.cookie = t2;
} };
var g2 = /* @__PURE__ */ new Set(["400", "401", "403", "404", "429", "500"]);
var h = function(n6) {
  function t2(r10, t3, e11) {
    var o6 = n6.call(this, t3, e11) || this;
    return o6.code = r10, o6;
  }
  return __extends(t2, n6), t2;
}(Error);
function w(n6, r10, t2) {
  return (null == t2 ? void 0 : t2.cause) && console.error("This is the cause of LiffError described below.", t2.cause), new h(n6, r10 || "", t2 || {});
}
function m2(n6) {
  var r10 = n6.match(/([^-]+)-[^-]+/);
  return r10 && r10[1];
}
function y(n6) {
  var r10 = "";
  return n6.replace(/\r|\n/g, "").replace(/([\da-fA-F]{2}) ?/g, "0x$1 ").replace(/ +$/, "").split(" ").forEach(function(n7) {
    r10 += String.fromCharCode(parseInt(n7));
  }), window.btoa(r10);
}
var b = function() {
  function n6() {
    this.map = {};
  }
  return n6.prototype.clear = function() {
    this.map = {};
  }, n6.prototype.getItem = function(n7) {
    var r10 = this.map[n7];
    return void 0 === r10 ? null : r10;
  }, n6.prototype.setItem = function(n7, r10) {
    this.map[n7] = r10;
  }, n6.prototype.removeItem = function(n7) {
    delete this.map[n7];
  }, n6.prototype.key = function(n7) {
    var r10 = Object.keys(this.map)[n7];
    return void 0 === r10 ? null : r10;
  }, Object.defineProperty(n6.prototype, "length", { get: function() {
    return Object.keys(this.map).length;
  }, enumerable: false, configurable: true }), n6;
}();
var R2;
var A2 = { parse: function(n6) {
  return n6.replace(/^\?/, "").replace(/^#\/?/, "").split(/&+/).filter(function(n7) {
    return n7.length > 0;
  }).reduce(function(n7, r10) {
    var e11 = __read(r10.split("=").map(decodeURIComponent), 2), o6 = e11[0], i7 = e11[1], a10 = n7[o6];
    return Array.isArray(a10) ? a10.push(i7) : Object.prototype.hasOwnProperty.call(n7, o6) ? n7[o6] = [a10, i7] : n7[o6] = i7, n7;
  }, {});
}, stringify: function(n6) {
  return Object.keys(n6).map(function(r10) {
    var t2 = n6[r10], e11 = function(n7) {
      return void 0 !== n7 ? "".concat(encodeURIComponent(r10), "=").concat(encodeURIComponent(n7)) : encodeURIComponent(r10);
    };
    return Array.isArray(t2) ? t2.map(function(n7) {
      return e11(n7);
    }).join("&") : e11(t2);
  }).join("&");
} };
var I2 = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
function U2() {
  return window.crypto.getRandomValues(new Uint32Array(1))[0] / 4294967296;
}
function x(n6) {
  for (var r10 = "", t2 = 0; t2 < n6; t2++)
    r10 += I2[Math.floor(U2() * I2.length)];
  return r10;
}
function C2(n6) {
  var r10 = new URL(n6), t2 = r10.hash.slice(1).split("&").filter(function(n7) {
    return !D.some(function(r11) {
      return n7.startsWith("".concat(r11, "="));
    });
  }).join("&");
  return r10.hash = t2, r10.toString();
}
function L2(n6) {
  var r10 = new URL(n6);
  return r10.toString().replace(new RegExp(String.raw(O2 || (O2 = __makeTemplateObject(["^", ""], ["^", ""])), r10.origin)), "");
}
var j = function(n6) {
  var r10 = C2(n6);
  if (r10 !== n6) {
    var t2 = L2(r10);
    window.history.replaceState(history.state, "", t2);
  }
};
function E2(n6, r10) {
  if (!n6)
    throw new Error("addParamsToUrl: invalid URL");
  var e11 = new URL(n6);
  return Object.entries(r10).forEach(function(n7) {
    var r11 = __read(n7, 2), o6 = r11[0], i7 = r11[1];
    e11.searchParams.set(o6, i7);
  }), e11.toString();
}
var O2;
var S2 = ((R2 = {})[s2] = function() {
  var n6 = $(s2);
  return new RegExp("^".concat(n6, "(\\d+-\\w+)"));
}, R2[a2] = function() {
  var n6 = $(a2);
  return new RegExp("^".concat(n6, "((\\d+-\\w+)|(\\w+$))"));
}, R2);
function k(n6) {
  for (var r10 in S2) {
    var t2 = n6.match(S2[r10]());
    if (t2)
      return t2[1];
  }
  return null;
}
function $(n6) {
  return n6.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
}
function T2(n6) {
  var r10 = n6.match(/^(https?:\/\/.*?)\//);
  return r10 && r10[1] || "";
}
function F(n6) {
  return n6.startsWith("line:");
}
function P(n6) {
  return void 0 === n6 && (n6 = window.navigator.userAgent), /ipad/.test(n6.toLowerCase());
}
function W(n6) {
  return void 0 === n6 && (n6 = window.navigator.userAgent), /Line\/\d+\.\d+\.\d+/.test(n6);
}
function B(n6) {
  return void 0 === n6 && (n6 = window.navigator.userAgent), /Line\/\d+\.\d+\.\d+ LIFF/.test(n6);
}
function G(n6) {
  return void 0 === n6 && (n6 = window.navigator.userAgent), /LIFF\/SubWindow/.test(n6);
}
var J = function() {
  return "undefined" == typeof window;
};

// node_modules/@liff/is-in-client/lib/index.es.js
var c4 = null;
function u3() {
  return null === c4 && (c4 = B() || W() && /[#|&]access_token=/.test(location.hash) || "1" === sessionStorage.getItem("".concat(l2, ":").concat(r3)), sessionStorage.setItem("".concat(l2, ":").concat(r3), c4 ? "1" : "0")), !!c4;
}
var f3 = function(n6) {
  function o6() {
    return null !== n6 && n6.apply(this, arguments) || this;
  }
  return __extends(o6, n6), Object.defineProperty(o6.prototype, "name", { get: function() {
    return "isInClient";
  }, enumerable: false, configurable: true }), o6.prototype.install = function() {
    return function() {
      return u3();
    };
  }, o6;
}(a);

// node_modules/@liff/store/lib/index.es.js
function c5() {
  var n6;
  return null !== (n6 = window.__liffConfig) && void 0 !== n6 ? n6 : {};
}
function l4(n6) {
  window.__liffConfig = n6;
}
function a3(n6, t2) {
  if (!t2)
    throw w(n3, "liffId is necessary for liff.init()");
  var o6 = (u3() ? sessionStorage : localStorage).getItem("".concat(l2, ":").concat(t2, ":").concat(n6));
  try {
    return null === o6 ? null : JSON.parse(o6);
  } catch (f14) {
    return null;
  }
}
function p3(n6) {
  return a3(n6, c5().liffId);
}
function s4(n6, t2) {
  var o6 = c5().liffId;
  if (!o6)
    throw w(n3, "liffId is necessary for liff.init()");
  (u3() ? sessionStorage : localStorage).setItem("".concat(l2, ":").concat(o6, ":").concat(n6), JSON.stringify(t2));
}
function E3() {
  return p3(c2.CONTEXT);
}
function I3(n6) {
  s4(c2.CONTEXT, n6);
}
var T3 = function(t2) {
  function r10() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(r10, t2), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "getContext";
  }, enumerable: false, configurable: true }), r10.prototype.install = function() {
    return function() {
      return E3();
    };
  }, r10;
}(a);
function y2() {
  return ((E3() || {}).d || {}).aId;
}
var g3 = function(t2) {
  function r10() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(r10, t2), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "getAId";
  }, enumerable: false, configurable: true }), r10.prototype.install = function() {
    return function() {
      return y2();
    };
  }, r10;
}(a);
function _() {
  return ((E3() || {}).d || {}).autoplay || false;
}
var m3 = function(t2) {
  function r10() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(r10, t2), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "getIsVideoAutoPlay";
  }, enumerable: false, configurable: true }), r10.prototype.install = function() {
    return function() {
      return _();
    };
  }, r10;
}(a);
function S3() {
  return (E3() || {}).profilePlus;
}
var d2 = function(t2) {
  function r10() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(r10, t2), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "getProfilePlus";
  }, enumerable: false, configurable: true }), r10.prototype.install = function() {
    return function() {
      return S3();
    };
  }, r10;
}(a);
function O3() {
  return Boolean(p3(c2.IS_SUBSEQUENT_LIFF_APP));
}
function P2(n6) {
  s4(c2.IS_SUBSEQUENT_LIFF_APP, n6);
}
function b2() {
  return p3(c2.APP_DATA);
}
function N2(n6) {
  s4(c2.APP_DATA, n6);
}
function h2() {
  return p3(c2.MST_VERIFIER);
}
function A3(n6) {
  s4(c2.MST_VERIFIER, n6);
}
function v2() {
  return p3(c2.MSIT);
}
function C3(n6) {
  s4(c2.MSIT, n6);
}
function D2() {
  return p3(c2.MST);
}
function L3(n6) {
  s4(c2.MST, n6);
}
function M() {
  return p3(c2.MST_CHALLENGE);
}
function R3(n6) {
  s4(c2.MST_CHALLENGE, n6);
}
function j2() {
  return p3(c2.CLIENT_ID);
}
function F2(n6) {
  s4(c2.CLIENT_ID, n6);
}
function K() {
  return p3(c2.RAW_CONTEXT);
}
function w2() {
  return p3(c2.FEATURE_TOKEN);
}
function U3(n6) {
  s4(c2.FEATURE_TOKEN, n6);
}
function X() {
  return p3(c2.ID_TOKEN);
}
function G2(n6) {
  s4(c2.ID_TOKEN, n6);
}
var k2 = function(t2) {
  function r10() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(r10, t2), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "getIDToken";
  }, enumerable: false, configurable: true }), r10.prototype.install = function() {
    return function() {
      return X();
    };
  }, r10;
}(a);
function x2() {
  return p3(c2.ACCESS_TOKEN);
}
function B2(n6) {
  s4(c2.ACCESS_TOKEN, n6);
}
var V = function(t2) {
  function r10() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(r10, t2), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "getAccessToken";
  }, enumerable: false, configurable: true }), r10.prototype.install = function() {
    return function() {
      return x2();
    };
  }, r10;
}(a);
function H(n6) {
  var t2 = c5().liffId;
  if (!t2)
    throw w(n3, "liffId is necessary for liff.init()");
  (u3() ? sessionStorage : localStorage).removeItem("".concat(l2, ":").concat(t2, ":").concat(n6));
}
function J2() {
  return p3(c2.LOGIN_TMP);
}
function Q(n6) {
  s4(c2.LOGIN_TMP, n6);
}
function W2() {
  H(c2.LOGIN_TMP);
}
function q(n6) {
  var t2 = c5();
  v.set("".concat(l2, ":").concat(c2.EXPIRES, ":").concat(t2.liffId), n6.getTime(), { expires: n6.toUTCString(), path: "/", secure: null });
}
function z() {
  var n6 = c5();
  return v.get("".concat(l2, ":").concat(c2.EXPIRES, ":").concat(n6.liffId));
}
function Y() {
  var n6 = c5();
  v.remove("".concat(l2, ":").concat(c2.EXPIRES, ":").concat(n6.liffId), { path: "/" });
}
function Z() {
  return p3(c2.DECODED_ID_TOKEN);
}
function $2(n6) {
  s4(c2.DECODED_ID_TOKEN, n6);
}
var nn = function(t2) {
  function r10() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(r10, t2), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "getDecodedIDToken";
  }, enumerable: false, configurable: true }), r10.prototype.install = function() {
    return function() {
      return Z();
    };
  }, r10;
}(a);
function tn() {
  Object.keys(c2).forEach(function(n6) {
    H(c2[n6]);
  }), Y();
}

// node_modules/@liff/is-logged-in/lib/index.es.js
function e3() {
  return !!x2();
}
var o2 = function(r10) {
  function n6() {
    return null !== r10 && r10.apply(this, arguments) || this;
  }
  return __extends(n6, r10), Object.defineProperty(n6.prototype, "name", { get: function() {
    return "isLoggedIn";
  }, enumerable: false, configurable: true }), n6.prototype.install = function() {
    return function() {
      return e3();
    };
  }, n6;
}(a);

// node_modules/@liff/get-version/lib/index.es.js
function r4() {
  return "2.27.2";
}
var e4 = function(n6) {
  function r10() {
    return null !== n6 && n6.apply(this, arguments) || this;
  }
  return __extends(r10, n6), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "getVersion";
  }, enumerable: false, configurable: true }), r10.prototype.install = function() {
    return function() {
      return "2.27.2";
    };
  }, r10;
}(a);

// node_modules/@liff/is-sub-window/lib/index.es.js
var a4 = function() {
  function t2() {
  }
  return t2.prototype.invoke = function() {
    return G();
  }, t2;
}();
var l5 = function() {
  function t2(t3) {
    this.storage = t3;
  }
  return Object.defineProperty(t2, "IN_SUB_WINDOW_KEY", { get: function() {
    return "inSubWindow";
  }, enumerable: false, configurable: true }), t2.prototype.invoke = function() {
    return new URLSearchParams(window.location.search).has(L) && this.setInSubWindow(true), !(!this.getInSubWindow() && !this.getSubWindowIdentifier());
  }, t2.prototype.getInSubWindow = function() {
    var n6 = this.storage.getItem("".concat(l2, ":").concat(this.getLiffId(), ":").concat(t2.IN_SUB_WINDOW_KEY));
    return null !== n6 && JSON.parse(n6);
  }, t2.prototype.getSubWindowIdentifier = function() {
    var t3, n6, i7 = "liff.subwindow.identifier", e11 = new URLSearchParams(window.location.search);
    return e11.get(i7) || (t3 = i7, (n6 = e11.get("liff.state")) ? new URLSearchParams(n6).get(t3) : null) || null;
  }, t2.prototype.setInSubWindow = function(n6) {
    this.storage.setItem("".concat(l2, ":").concat(this.getLiffId(), ":").concat(t2.IN_SUB_WINDOW_KEY), String(n6));
  }, t2.prototype.getLiffId = function() {
    var t3 = c5().liffId;
    if (!t3)
      throw w(n3, "liffId is necessary for liff.init()");
    return t3;
  }, t2;
}();
var p4 = function(n6) {
  function i7() {
    var t2 = n6.call(this) || this;
    return J() ? t2.impl = { invoke: function() {
      return false;
    } } : u3() ? t2.impl = new a4() : t2.impl = new l5(window.sessionStorage), t2;
  }
  return __extends(i7, n6), Object.defineProperty(i7.prototype, "name", { get: function() {
    return "isSubWindow";
  }, enumerable: false, configurable: true }), i7.prototype.install = function() {
    return this.impl.invoke.bind(this.impl);
  }, i7;
}(a);
var m4 = new p4();
var d3 = m4.install();

// node_modules/@liff/get-line-version/lib/index.es.js
function r5() {
  var n6 = navigator.userAgent.match(/Line\/\d+(\.\d+)*/i);
  return n6 ? n6[0].slice(5) : null;
}
var e5 = function(t2) {
  function e11() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(e11, t2), Object.defineProperty(e11.prototype, "name", { get: function() {
    return "getLineVersion";
  }, enumerable: false, configurable: true }), e11.prototype.install = function() {
    return function() {
      return r5();
    };
  }, e11;
}(a);

// node_modules/@liff/get-os/lib/index.es.js
var r6;
function e6() {
  if (!r6) {
    var t2 = window.navigator.userAgent.toLowerCase();
    r6 = /iphone|ipad|ipod/.test(t2) ? "ios" : /android/.test(t2) ? "android" : "web";
  }
  return r6;
}
var i4 = function(n6) {
  function r10() {
    return n6.call(this) || this;
  }
  return __extends(r10, n6), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "getOS";
  }, enumerable: false, configurable: true }), r10.prototype.install = function() {
    return function() {
      return e6();
    };
  }, r10;
}(a);

// node_modules/@liff/is-api-available/lib/index.es.js
function g4(e11) {
  var r10, n6 = E3();
  return null === (r10 = null == n6 ? void 0 : n6.availability) || void 0 === r10 ? void 0 : r10[e11];
}
function h3(e11, r10, n6) {
  var i7 = g4(e11), o6 = n6 || e11;
  if (!i7)
    return { available: false, error: { code: E, message: "".concat(o6, " is not allowed in this LIFF app") } };
  var t2 = i7.minVer, c13 = i7.unsupportedFromVer, s12 = !t2 || function(e12, r11) {
    var n7 = r5();
    return !!n7 && !(r11 && f2(n7, r11) > 0) && f2(n7, e12) >= 0;
  }(t2, c13), d8 = u3();
  return d8 && !s12 ? { available: false, error: { code: E, message: "".concat(o6, " is unavailable in this client version.") } } : i7.permission ? d8 && s12 || r10 ? { available: true } : { available: false, error: { code: E, message: "".concat(o6, " is not allowed in external browser") } } : { available: false, error: { code: E, message: "".concat(o6, " is not allowed in this LIFF app") } };
}
var w3 = function() {
  return e3() ? !B() && W() ? { available: false, error: { code: E, message: "Subwindow is not supported in this browser" } } : d3() ? { available: false, error: { code: E, message: "this api can be only called in parent window" } } : h3("subwindowOpen", true) : { available: false, error: { code: t, message: "Need access_token for api call, Please login first" } };
};
var S4 = ["subwindowOpen", "shareTargetPicker", "multipleLiffTransition", "scanCode", "scanCodeV2", "getAdvertisingId", "addToHomeScreen", "bluetoothLeFunction", "skipChannelVerificationScreen", "createShortcutOnHomeScreen", "internalCreateShortcutOnHomeScreen", "iap"];
var C4 = { scanCode: function() {
  return h3("scanCode");
}, getAdvertisingId: function() {
  return h3("getAdvertisingId");
}, bluetoothLeFunction: function() {
  return h3("bluetoothLeFunction");
}, shareTargetPicker: function() {
  return d3() ? { available: false, error: { code: E, message: "this api can be only called in parent window" } } : e3() ? h3("shareTargetPicker", true) : { available: false, error: { code: t, message: "Need access_token for api call, Please login first" } };
}, multipleLiffTransition: function() {
  var e11 = g4("multipleLiffTransition");
  return e11 && e11.permission ? u3() ? { available: true } : { available: false, error: { code: E, message: "multipleLiffTransition is available only in the LINE App browser" } } : { available: false, error: { code: E, message: "multipleLiffTransition is not allowed in this LIFF app" } };
}, subwindowOpen: w3, scanCodeV2: function() {
  if (!e3())
    return { available: false, error: { code: t, message: "Need access_token for api call, Please login first" } };
  var e11 = w3();
  return e11.available ? h3("scanCodeV2", true) : e11;
}, addToHomeScreen: function() {
  return d3() ? { available: false, error: { code: E, message: "this api can be only called in parent window" } } : h3("addToHomeScreen");
}, skipChannelVerificationScreen: function() {
  var e11 = E3();
  return e11 ? "square_chat" === e11.type ? { available: false, error: { code: E, message: "skipChannelVerificationScreen is not allowed in OpenChat" } } : h3("skipChannelVerificationScreen") : { available: false, error: { code: E, message: "Context is not found" } };
}, createShortcutOnHomeScreen: function() {
  if (d3())
    return { available: false, error: { code: E, message: "this api can be only called in parent window" } };
  if (!e3())
    return { available: false, error: { code: t, message: "Need access_token for api call, Please login first" } };
  var e11 = e6();
  return "android" !== e11 && "ios" !== e11 ? { available: false, error: { code: E, message: "this api can be only called in mobile device" } } : h3("addToHomeV2", true, "createShortcutOnHomeScreen");
}, internalCreateShortcutOnHomeScreen: function() {
  if (d3())
    return { available: false, error: { code: E, message: "this api can be only called in parent window" } };
  if (!e3())
    return { available: false, error: { code: t, message: "Need access_token for api call, Please login first" } };
  var e11 = e6();
  if ("android" !== e11 && "ios" !== e11)
    return { available: false, error: { code: E, message: "this api can be only called in mobile device" } };
  var r10 = h3("addToHomeV2", true, "internalCreateShortcutOnHomeScreen");
  return r10.available ? h3("addToHomeLineScheme", true, "internalCreateShortcutOnHomeScreen") : r10;
}, iap: function() {
  return u3() ? e3() ? d3() ? { available: false, error: { code: E, message: "this api can be only called in parent window" } } : h3("iap", false, "In-App Purchase") : { available: false, error: { code: t, message: "Need access_token for api call, Please login first" } } : { available: false, error: { code: E, message: "In-App Purchase is not allowed in external browser" } };
} };
var T4 = function(e11) {
  return function() {
    var r10 = e11();
    if (!r10.available)
      throw w(r10.error.code, r10.error.message);
  };
};
var H2 = { scanCode: T4(C4.scanCode), getAdvertisingId: T4(C4.getAdvertisingId), bluetoothLeFunction: T4(C4.bluetoothLeFunction), shareTargetPicker: T4(C4.shareTargetPicker), multipleLiffTransition: T4(C4.multipleLiffTransition), subwindowOpen: T4(C4.subwindowOpen), scanCodeV2: T4(C4.scanCodeV2), addToHomeScreen: T4(C4.addToHomeScreen), skipChannelVerificationScreen: T4(C4.skipChannelVerificationScreen), createShortcutOnHomeScreen: T4(C4.createShortcutOnHomeScreen), internalCreateShortcutOnHomeScreen: T4(C4.internalCreateShortcutOnHomeScreen), iap: T4(C4.iap) };
function k3(e11) {
  if (!function(e12) {
    return S4.some(function(r11) {
      return r11 === e12;
    });
  }(e11))
    throw w(i3, "Unexpected API name.");
  var r10 = C4[e11];
  return !r10 || r10().available;
}
var O4 = function(a10) {
  function i7() {
    var e11 = a10.apply(this, __spreadArray([], __read(arguments), false)) || this;
    return e11.hooks = {}, e11;
  }
  return __extends(i7, a10), Object.defineProperty(i7.prototype, "name", { get: function() {
    return "isApiAvailable";
  }, enumerable: false, configurable: true }), i7.prototype.install = function() {
    return function(e11) {
      return k3(e11);
    };
  }, i7;
}(a);

// node_modules/@liff/check-availability/lib/index.es.js
var e7 = function() {
  function t2() {
  }
  return t2.prototype.invoke = function(t3) {
    var i7 = H2[t3];
    return !!i7 && (i7(), true);
  }, t2;
}();
var r7 = function() {
  function t2(t3) {
    this.liff = t3;
  }
  return t2.prototype.invoke = function(t3) {
    return this.liff.checkFeature(t3);
  }, t2;
}();
var o3 = function() {
  function n6(o6) {
    f2(r4(), n6.SDK_VERSION_SUPPORTING_NEW) >= 0 ? this.impl = new e7() : this.impl = new r7(o6);
  }
  return Object.defineProperty(n6, "SDK_VERSION_SUPPORTING_NEW", { get: function() {
    return "2.11.0";
  }, enumerable: false, configurable: true }), n6.prototype.invoke = function(t2) {
    return this.impl.invoke(t2);
  }, n6;
}();

// node_modules/@liff/extensions/lib/es/index.js
var c6 = function(t2, n6) {
  return c6 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t3, n7) {
    t3.__proto__ = n7;
  } || function(t3, n7) {
    for (var e11 in n7)
      Object.prototype.hasOwnProperty.call(n7, e11) && (t3[e11] = n7[e11]);
  }, c6(t2, n6);
};
function u4(t2, n6, e11, o6) {
  return new (e11 || (e11 = Promise))(function(r10, i7) {
    function c13(t3) {
      try {
        l14(o6.next(t3));
      } catch (n7) {
        i7(n7);
      }
    }
    function u12(t3) {
      try {
        l14(o6.throw(t3));
      } catch (n7) {
        i7(n7);
      }
    }
    function l14(t3) {
      var n7;
      t3.done ? r10(t3.value) : (n7 = t3.value, n7 instanceof e11 ? n7 : new e11(function(t4) {
        t4(n7);
      })).then(c13, u12);
    }
    l14((o6 = o6.apply(t2, n6 || [])).next());
  });
}
function l6(t2, n6) {
  var e11, o6, r10, i7, c13 = { label: 0, sent: function() {
    if (1 & r10[0])
      throw r10[1];
    return r10[1];
  }, trys: [], ops: [] };
  return i7 = { next: u12(0), throw: u12(1), return: u12(2) }, "function" == typeof Symbol && (i7[Symbol.iterator] = function() {
    return this;
  }), i7;
  function u12(i8) {
    return function(u13) {
      return function(i9) {
        if (e11)
          throw new TypeError("Generator is already executing.");
        for (; c13; )
          try {
            if (e11 = 1, o6 && (r10 = 2 & i9[0] ? o6.return : i9[0] ? o6.throw || ((r10 = o6.return) && r10.call(o6), 0) : o6.next) && !(r10 = r10.call(o6, i9[1])).done)
              return r10;
            switch (o6 = 0, r10 && (i9 = [2 & i9[0], r10.value]), i9[0]) {
              case 0:
              case 1:
                r10 = i9;
                break;
              case 4:
                return c13.label++, { value: i9[1], done: false };
              case 5:
                c13.label++, o6 = i9[1], i9 = [0];
                continue;
              case 7:
                i9 = c13.ops.pop(), c13.trys.pop();
                continue;
              default:
                if (!(r10 = c13.trys, (r10 = r10.length > 0 && r10[r10.length - 1]) || 6 !== i9[0] && 2 !== i9[0])) {
                  c13 = 0;
                  continue;
                }
                if (3 === i9[0] && (!r10 || i9[1] > r10[0] && i9[1] < r10[3])) {
                  c13.label = i9[1];
                  break;
                }
                if (6 === i9[0] && c13.label < r10[1]) {
                  c13.label = r10[1], r10 = i9;
                  break;
                }
                if (r10 && c13.label < r10[2]) {
                  c13.label = r10[2], c13.ops.push(i9);
                  break;
                }
                r10[2] && c13.ops.pop(), c13.trys.pop();
                continue;
            }
            i9 = n6.call(t2, c13);
          } catch (u14) {
            i9 = [6, u14], o6 = 0;
          } finally {
            e11 = r10 = 0;
          }
        if (5 & i9[0])
          throw i9[1];
        return { value: i9[0] ? i9[1] : void 0, done: true };
      }([i8, u13]);
    };
  }
}
var s5 = false;
var a5 = function() {
  return s5;
};
var f4 = function(t2) {
  function n6() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return function(t3, n7) {
    if ("function" != typeof n7 && null !== n7)
      throw new TypeError("Class extends value " + String(n7) + " is not a constructor or null");
    function e11() {
      this.constructor = t3;
    }
    c6(t3, n7), t3.prototype = null === n7 ? Object.create(n7) : (e11.prototype = n7.prototype, new e11());
  }(n6, t2), Object.defineProperty(n6.prototype, "name", { get: function() {
    return "_legacyExtensionsEnabled";
  }, enumerable: false, configurable: true }), n6.prototype.install = function() {
    s5 = true;
  }, n6;
}(a);
function p5() {
  var t2;
  return "ios" === e6() ? (t2 = r5()) && f2(t2, "9.19.0") < 0 ? "https://static.line-scdn.net/liff/edge/2/ios-918-extensions_2_22_0.js" : "https://static.line-scdn.net/liff/edge/2/ios-extensions_2_22_0.js" : "https://static.line-scdn.net/liff/edge/2/non-ios-extensions_2_22_0.js";
}
function y3() {
  return a5() ? function() {
    return u4(this, void 0, void 0, function() {
      return l6(this, function(e11) {
        switch (e11.label) {
          case 0:
            return [3, 2];
          case 1:
            return [2, e11.sent().default];
          case 2:
            return [2, new Promise(function(e12, o6) {
              var r10 = document.createElement("script"), i7 = p5();
              r10.onload = function() {
                var r11 = window.liffClientExtension;
                r11 ? e12(r11) : o6(w(I, "Unable to load client features. (Extension is empty)"));
              }, r10.onerror = function(e13) {
                o6(w(I, "Unable to load client features.", { cause: e13 }));
              }, r10.src = i7, r10.type = "text/javascript", document.body.appendChild(r10);
            })];
        }
      });
    });
  }() : Promise.resolve(void 0);
}

// node_modules/@liff/logout/lib/index.es.js
function o4() {
  tn();
}
var e8 = function(r10) {
  function n6() {
    return null !== r10 && r10.apply(this, arguments) || this;
  }
  return __extends(n6, r10), Object.defineProperty(n6.prototype, "name", { get: function() {
    return "logout";
  }, enumerable: false, configurable: true }), n6.prototype.install = function() {
    return function() {
      return o4();
    };
  }, n6;
}(a);

// node_modules/@liff/permanent-link/lib/index.es.js
var g5 = /([\x90\x9D\x81\x8D\x8F<"{|}>\\^`“›„•‚ŽŠ…’—ž–‘”‡™‰ŒšŸ‹œ†¥¿©áÄýÍÎðô]|\n|.*#.*#|%(?![0-9A-Fa-f]{2})[^%]{0,2})/;
var v3 = function(n6) {
  if (g5.test(n6))
    throw w(i3, "invalid URL.");
  var t2 = new URL(n6), r10 = t2.username, e11 = t2.password, i7 = t2.hash, a10 = t2.search;
  return { username: r10, password: e11, pathname: t2.pathname, hash: i7, origin: t2.origin, search: a10 };
};
var w4 = function(n6) {
  return n6.substring(1).split("&").filter(function(n7) {
    return !/^liff\./.test(n7) && Boolean(n7);
  });
};
var x3 = function(n6, t2) {
  var r10 = n6.substring(t2.length);
  return "/" === r10 ? "" : (r10.length > 0 && "/" !== r10[0] && (r10 = "/" + r10), r10);
};
var U4 = function(n6) {
  return encodeURIComponent(n6).replace(/[!'()*]/g, function(n7) {
    return "%" + n7.charCodeAt(0).toString(16).toUpperCase();
  });
};
var y4 = function(e11, i7) {
  var a10 = function(r10, e12) {
    for (var i8 = __spreadArray([], __read(r10), false), a11 = 0; a11 < e12.length; a11++) {
      var o6 = e12[a11], c13 = i8.indexOf(o6);
      c13 > -1 && i8.splice(c13, 1);
    }
    return i8;
  }(function(n6) {
    var e12, i8, a11 = n6.replace(/\+/g, "%2B"), o6 = new URLSearchParams(a11), c13 = [];
    try {
      for (var u12 = __values(o6.entries()), s12 = u12.next(); !s12.done; s12 = u12.next()) {
        var f14 = __read(s12.value, 2), l14 = f14[0], h8 = f14[1];
        c13.push("".concat(U4(l14), "=").concat(U4(h8)));
      }
    } catch (m9) {
      e12 = { error: m9 };
    } finally {
      try {
        s12 && !s12.done && (i8 = u12.return) && i8.call(u12);
      } finally {
        if (e12)
          throw e12.error;
      }
    }
    if (0 === c13.length)
      return [""];
    var p12 = n6.split("&");
    return c13.map(function(n7, t2) {
      return n7.endsWith("=") && !p12[t2].endsWith("=") ? n7.slice(0, -1) : n7;
    });
  }(w4(e11).join("&")), w4(i7)).join("&");
  return "" !== a10 ? "?".concat(a10) : "";
};
var b3 = function(n6) {
  var t2 = new RegExp("^".concat(D.join("|"))), r10 = n6.substring(1).split("&").filter(function(n7) {
    return !t2.test(n7) && Boolean(n7);
  }).join("&");
  return r10 ? "#".concat(r10) : "";
};
var C5 = function(n6, t2) {
  return 0 === t2.indexOf(n6) && (n6.endsWith("/") && (n6 = n6.substring(0, n6.length - 1)), void 0 === t2[n6.length] || "/" === t2[n6.length]);
};
var L4 = function(n6, t2) {
  var r10 = v3(n6), e11 = new URL(t2);
  if (r10.username !== e11.username || r10.password !== e11.password)
    throw w(i3, "invalid URL.");
  if (e11.origin !== r10.origin || !C5(e11.pathname, r10.pathname))
    throw w(i3, "invalid URL.");
};
var P3 = function(r10) {
  function o6() {
    var e11 = r10.apply(this, __spreadArray([], __read(arguments), false)) || this;
    return e11.extraParams = "", e11.getAndValidateContext = function() {
      var n6 = E3();
      if (!n6)
        throw w(I, "Could not get Context from server.");
      if (!n6.endpointUrl)
        throw w(I, "Could not get endpointUrl from server.");
      if (!n6.permanentLinkPattern)
        throw w(I, "Could not get permanentLinkPattern from server.");
      return n6;
    }, e11.createUrl = function() {
      var n6 = e11.getAndValidateContext(), t2 = window.location, r11 = t2.pathname, i7 = t2.search, a10 = t2.hash, o7 = t2.origin, u12 = new URL(n6.endpointUrl);
      if (u12.origin !== o7 || !C5(u12.pathname, r11))
        throw w(n3, "Current page is not under entrypoint.");
      var l14 = r11.substring(u12.pathname.length);
      l14.length > 0 && "/" !== l14[0] && (l14 = "/" + l14);
      var p12 = new RegExp("^".concat(D.join("|"))), d8 = a10.substring(1).split("&").filter(function(n7) {
        return !p12.test(n7) && Boolean(n7);
      }).join("&"), g9 = d8 === u12.hash.substring(1) ? "" : d8, v7 = function(n7) {
        return n7.substring(1).split("&").filter(function(n8) {
          return !/liff\.state/.test(n8) && Boolean(n8);
        });
      }, w8 = v7(i7), x6 = v7(u12.search);
      e11.extraParams && w8.push(e11.extraParams);
      for (var U6 = 0; U6 < x6.length; U6++) {
        var y6 = x6[U6], b6 = w8.indexOf(y6);
        b6 > -1 && w8.splice(b6, 1);
      }
      var L7 = w8.join("&"), P6 = "".concat(l14).concat("" !== L7 ? "?".concat(L7) : "").concat(g9 ? "#".concat(g9) : "");
      return "".concat(s2).concat(c5().liffId).concat(P6);
    }, e11.createUrlBy = function(n6) {
      return __awaiter(e11, void 0, void 0, function() {
        var t2, r11, e12, i7, o7, c13;
        return __generator(this, function(a10) {
          if (!(t2 = c5().liffId))
            throw w(I, "Should run after liff init.");
          return r11 = this.getAndValidateContext(), L4(n6, r11.endpointUrl), e12 = v3(n6), i7 = new URL(r11.endpointUrl), o7 = r11.miniDomainAllowed ? a2 : s2, c13 = r11.miniDomainAllowed && r11.miniAppId ? r11.miniAppId : t2, [2, o7.concat(c13, x3(e12.pathname, i7.pathname), y4(e12.search, i7.search), b3(e12.hash))];
        });
      });
    }, e11.setExtraQueryParam = function(n6) {
      e11.extraParams = n6;
    }, e11.install = function() {
      return { createUrl: e11.createUrl, createUrlBy: e11.createUrlBy, setExtraQueryParam: e11.setExtraQueryParam };
    }, e11;
  }
  return __extends(o6, r10), Object.defineProperty(o6.prototype, "name", { get: function() {
    return "permanentLink";
  }, enumerable: false, configurable: true }), o6;
}(a);
var R4 = new P3();

// node_modules/@liff/server-api/lib/index.es.js
function c7(a10) {
  return __awaiter(this, void 0, void 0, function() {
    var e11, r10, o6;
    return __generator(this, function(t2) {
      switch (t2.label) {
        case 0:
          if (!a10.ok)
            return [3, 4];
          t2.label = 1;
        case 1:
          return t2.trys.push([1, 3, , 4]), [4, a10.json()];
        case 2:
          return [2, t2.sent()];
        case 3:
          return t2.sent(), [2, a10];
        case 4:
          return e11 = String(a10.status), r10 = g2.has(e11) ? e11 : e2, [4, a10.json().catch(function() {
            throw w(r10, a10.statusText);
          })];
        case 5:
          throw o6 = t2.sent(), w(o6.error || r10, o6.error_description || o6.message);
      }
    });
  });
}
function u5(e11) {
  var t2 = function(e12) {
    if (e12)
      return e12;
    var t3 = x2();
    if (!t3)
      throw w(t, "Need access_token for api call, Please login first");
    return { "Content-Type": "application/json", Accept: "application/json", Authorization: "Bearer ".concat(t3) };
  }(e11 && e11.headers);
  return __assign(__assign({}, e11), { headers: t2 });
}
function f5(e11, t2) {
  var a10;
  try {
    a10 = u5(t2);
  } catch (n6) {
    return Promise.reject(n6);
  }
  return fetch(e11, a10).then(c7);
}
function p6(e11, t2) {
  var a10;
  try {
    a10 = u5(t2);
  } catch (n6) {
    return Promise.reject(n6);
  }
  return fetch(e11, a10);
}
function h4(e11) {
  var t2 = e11.subdomain, a10 = void 0 === t2 ? "api" : t2, n6 = e11.pathname;
  return "https://".concat(a10, ".").concat("line.me", "/").concat(n6);
}
var m5 = { token: h4({ pathname: "oauth2/v2.1/token" }), certs: h4({ pathname: "oauth2/v2.1/certs" }), "openid-configuration": h4({ subdomain: "access", pathname: ".well-known/openid-configuration" }), authorize: h4({ subdomain: "access", pathname: "liff/v1/authorize" }), profile: h4({ pathname: "v2/profile" }), message: h4({ pathname: "message/v3/share" }), friendship: h4({ pathname: "friendship/v1/status" }), shareTargetPicker: h4({ subdomain: "access", pathname: "oauth2/v2.1/liff/shareTargetPicker" }), shareTargetPickerOtt: h4({ pathname: "liff/v2/apps" }), shareTargetPickerResult: h4({ subdomain: "access", pathname: "oauth2/v2.1/liff/shareTargetPicker/result" }), apps: h4({ pathname: "liff/v2/apps" }), subWindowGetMSIT: h4({ pathname: "liff/v2/sub/msit" }), subWindowGetMSTByMSIT: h4({ pathname: "liff/v2/sub/mst" }), subWindowSubscribe: h4({ subdomain: "liff", pathname: "liff/v2/sub/waitResult" }), subWindowPost: h4({ pathname: "liff/v2/sub/result" }), subWindowGetAppData: h4({ pathname: "liff/v2/sub/appData" }), subWindowGetOrigin: function(e11) {
  return h4({ pathname: "liff/v2/sub/".concat(e11, "/origin") });
}, accessTokenVerify: h4({ pathname: "oauth2/v2.1/verify" }), unauthorizedPermissions: h4({ subdomain: "liff", pathname: "liff/v2/incrementalAgreement/unauthorizedPermissions" }), permanentLink: h4({ subdomain: "liff", pathname: "liff/v2/permanentLink" }), createShortcutOnHomeScreen: h4({ subdomain: "liff-shortcut", pathname: "api/shortcut" }) };
function l7(e11) {
  return m5[e11];
}
function d4(e11) {
  return f5("".concat(l7("accessTokenVerify"), "?access_token=").concat(encodeURIComponent(e11)), { headers: { "Content-Type": "application/json", Accept: "application/json" } });
}

// node_modules/@liff/message-bus/lib/index.es.js
var d5 = "liff.subwindow.identifier";
var u6 = "liff.subwindow.cryptokey";
var f6 = __assign(__assign({}, C), { GET_DATA: "getData", SET_DATA: "setData", NOT_FOUND: "notFound", TEARDOWN: "teardown" });
var l8 = { BROADCAST: "broadcast", COMMAND: "command" };
var h5 = { MAIN: "main", SUB: "sub" };
var m6 = function(e11) {
  return __awaiter(void 0, void 0, void 0, function() {
    var t2;
    return __generator(this, function(n6) {
      switch (n6.label) {
        case 0:
          return n6.trys.push([0, 2, , 3]), [4, window.crypto.subtle.importKey("jwk", { kty: "oct", k: e11, alg: "A128GCM", ext: true }, { name: "AES-GCM" }, false, ["encrypt", "decrypt"])];
        case 1:
          return [2, n6.sent()];
        case 2:
          throw t2 = n6.sent(), w(e2, t2);
        case 3:
          return [2];
      }
    });
  });
};
var w5 = function(e11, i7, r10) {
  return __awaiter(void 0, void 0, void 0, function() {
    var t2, a10, o6, d8;
    return __generator(this, function(n6) {
      switch (n6.label) {
        case 0:
          return n6.trys.push([0, 3, , 4]), t2 = new TextEncoder().encode(e11), [4, m6(i7)];
        case 1:
          return a10 = n6.sent(), [4, window.crypto.subtle.encrypt({ name: "AES-GCM", iv: t2 }, a10, new TextEncoder().encode(r10))];
        case 2:
          return o6 = n6.sent(), [2, btoa(new Uint8Array(o6).reduce(function(e12, t3) {
            return e12 + String.fromCharCode(t3);
          }, ""))];
        case 3:
          throw d8 = n6.sent(), w(e2, d8);
        case 4:
          return [2];
      }
    });
  });
};
var y5 = function(e11, i7, r10) {
  return __awaiter(void 0, void 0, void 0, function() {
    var t2, a10, o6, d8, u12, f14, l14;
    return __generator(this, function(n6) {
      switch (n6.label) {
        case 0:
          return n6.trys.push([0, 3, , 4]), t2 = new TextEncoder().encode(e11), [4, m6(i7)];
        case 1:
          for (a10 = n6.sent(), o6 = atob(r10), d8 = new Uint8Array(o6.length), u12 = 0; u12 < o6.length; u12++)
            d8[u12] = o6.charCodeAt(u12);
          return [4, window.crypto.subtle.decrypt({ name: "AES-GCM", iv: t2 }, a10, d8.buffer)];
        case 2:
          return f14 = n6.sent(), [2, new TextDecoder().decode(new Uint8Array(f14))];
        case 3:
          throw l14 = n6.sent(), w(e2, l14);
        case 4:
          return [2];
      }
    });
  });
};
var g6 = function(e11, t2) {
  return b4(e11) === b4(t2);
};
var b4 = function(e11) {
  return "".concat(e11.identifier, "-").concat(e11.action, "-").concat(e11.timestamp);
};
var E4 = function(e11) {
  return Object.keys(C).map(function(e12) {
    return C[e12];
  }).includes(e11) ? l8.BROADCAST : l8.COMMAND;
};
function A4() {
  var e11 = document.createElement("form");
  e11.method = "POST", e11.action = "$MESSAGE_HANDLER_URL";
  var t2 = document.createElement("input");
  t2.type = "hidden", t2.name = "identifier", t2.value = "$IDENTIFIER", e11.appendChild(t2), document.body.appendChild(e11), e11.submit();
}
var T5 = function(o6) {
  void 0 === o6 && (o6 = h5.MAIN);
  var d8 = this;
  this.identification = { identifier: "", cryptoKey: "" }, this.messageHandlerInstance = null, this.listeners = /* @__PURE__ */ new Map(), this.sentMessages = [], this.generateIdentification = function() {
    return __awaiter(d8, void 0, void 0, function() {
      var e11, i7, r10, o7, d9;
      return __generator(this, function(f14) {
        switch (f14.label) {
          case 0:
            return e11 = new URLSearchParams(window.location.search), i7 = function(t2) {
              var n6 = e11.get("liff.state");
              return n6 ? new URLSearchParams(n6).get(t2) : null;
            }, r10 = this, d9 = { identifier: this.windowType === h5.MAIN ? x(12) : e11.get("liff.subwindow.identifier") || i7("liff.subwindow.identifier") || "" }, this.windowType !== h5.MAIN ? [3, 2] : [4, __awaiter(void 0, void 0, void 0, function() {
              var e12, t2, i8;
              return __generator(this, function(n6) {
                switch (n6.label) {
                  case 0:
                    return n6.trys.push([0, 3, , 4]), [4, window.crypto.subtle.generateKey({ name: "AES-GCM", length: 128 }, true, ["encrypt", "decrypt"])];
                  case 1:
                    return e12 = n6.sent(), [4, window.crypto.subtle.exportKey("jwk", e12)];
                  case 2:
                    if (!(t2 = n6.sent()) || !t2.k)
                      throw w(e2, "failed to generate key");
                    return [2, t2.k];
                  case 3:
                    throw i8 = n6.sent(), w(e2, i8);
                  case 4:
                    return [2];
                }
              });
            })];
          case 1:
            return o7 = f14.sent(), [3, 3];
          case 2:
            o7 = e11.get(u6) || i7(u6) || "", f14.label = 3;
          case 3:
            return r10.identification = (d9.cryptoKey = o7, d9), [2];
        }
      });
    });
  }, this.hasIdentification = function() {
    var e11 = d8.identification, t2 = e11.identifier, n6 = e11.cryptoKey;
    return "string" == typeof t2 && "string" == typeof n6 && t2.length > 0 && n6.length > 0;
  }, this.isReady = function() {
    return d8.hasIdentification() && !!d8.messageHandlerInstance;
  }, this.setup = function() {
    return __awaiter(d8, void 0, void 0, function() {
      var e11, t2, i7, r10, a10, o7 = this;
      return __generator(this, function(n6) {
        switch (n6.label) {
          case 0:
            return this.messageHandlerInstance ? [2] : [4, this.generateIdentification()];
          case 1:
            if (n6.sent(), !(e11 = this.identification.identifier))
              return [2];
            if (t2 = /^[a-zA-Z0-9]+$/gm, !e11.match(t2))
              throw w(e2, "Invalid identifier");
            return (i7 = document.createElement("iframe")).style.display = "none", i7.src = "about:blank", document.body.appendChild(i7), null === (a10 = null == i7 ? void 0 : i7.contentWindow) || void 0 === a10 || a10.window.eval("(".concat(A4.toString().replace("$MESSAGE_HANDLER_URL", "".concat("https://liff-subwindow.line.me/liff/v2/sub/messageHandler")).replace("$IDENTIFIER", e11.split("'")[0]), ")()")), r10 = "iframe-".concat(e11, "-ready"), [4, new Promise(function(e12) {
              var t3 = function(n7) {
                n7.data[r10] && (o7.messageHandlerInstance = i7, window.addEventListener("message", o7.proxyToListeners), e12(), document.removeEventListener("message", t3));
              };
              window.addEventListener("message", t3);
            })];
          case 2:
            return [2, n6.sent()];
        }
      });
    });
  }, this.teardown = function() {
    return __awaiter(d8, void 0, void 0, function() {
      var e11, t2;
      return __generator(this, function(n6) {
        switch (n6.label) {
          case 0:
            return this.isReady() ? [4, this.send({ eventName: f6.TEARDOWN })] : [3, 2];
          case 1:
            n6.sent(), window.removeEventListener("message", this.proxyToListeners), this.listeners.clear(), null === (t2 = null === (e11 = this.messageHandlerInstance) || void 0 === e11 ? void 0 : e11.parentNode) || void 0 === t2 || t2.removeChild(this.messageHandlerInstance), this.messageHandlerInstance = null, n6.label = 2;
          case 2:
            return [2];
        }
      });
    });
  }, this.listen = function(e11) {
    d8.listeners.set(e11, e11);
  }, this.listenRepliedEvent = function(e11, t2) {
    var n6 = function(i7) {
      i7.replyTarget && g6(i7.replyTarget, e11) && (t2(i7), d8.listeners.delete(n6));
    };
    d8.listeners.set(n6, n6);
  }, this.send = function(e11) {
    return __awaiter(d8, void 0, void 0, function() {
      var t2, i7, r10, a10, o7 = this;
      return __generator(this, function(n6) {
        switch (n6.label) {
          case 0:
            if (!this.isReady())
              throw w("message bus is not ready to send message");
            return i7 = { action: E4(e11.eventName), identifier: this.identification.identifier || "", timestamp: (/* @__PURE__ */ new Date()).getTime() }, [4, this.getEncryptedContext(e11)];
          case 1:
            return i7.context = n6.sent(), t2 = i7, null === (a10 = null === (r10 = this.messageHandlerInstance) || void 0 === r10 ? void 0 : r10.contentWindow) || void 0 === a10 || a10.postMessage({ messageBusEvent: t2 }, "*"), this.sentMessages.push(b4(t2)), [4, new Promise(function(e12) {
              o7.listenRepliedEvent(t2, function(t3) {
                e12(t3.context);
              });
            })];
          case 2:
            return [2, n6.sent()];
        }
      });
    });
  }, this.reply = function(e11, i7) {
    return __awaiter(d8, void 0, void 0, function() {
      var t2, r10, a10, o7;
      return __generator(this, function(n6) {
        switch (n6.label) {
          case 0:
            if (!this.isReady())
              throw w("message bus is not ready to send message");
            if (!e11.identifier || !e11.timestamp)
              throw w(e2, "target message is not valid");
            return r10 = { action: l8.BROADCAST }, [4, this.getEncryptedContext(i7)];
          case 1:
            return r10.context = n6.sent(), r10.identifier = this.identification.identifier || "", r10.timestamp = (/* @__PURE__ */ new Date()).getTime(), r10.replyTarget = { action: e11.action, identifier: e11.identifier, timestamp: e11.timestamp }, t2 = r10, null === (o7 = null === (a10 = this.messageHandlerInstance) || void 0 === a10 ? void 0 : a10.contentWindow) || void 0 === o7 || o7.postMessage({ messageBusEvent: t2 }, "*"), this.sentMessages.push(b4(t2)), [2];
        }
      });
    });
  }, this.setData = function(e11, t2) {
    void 0 === e11 && (e11 = "appData"), d8.send({ eventName: f6.SET_DATA, key: e11, data: t2 });
  }, this.getData = function() {
    for (var e11 = [], s12 = 0; s12 < arguments.length; s12++)
      e11[s12] = arguments[s12];
    return __awaiter(d8, __spreadArray([], __read(e11), false), void 0, function(e12) {
      return void 0 === e12 && (e12 = "appData"), __generator(this, function(t2) {
        switch (t2.label) {
          case 0:
            return [4, this.send({ eventName: f6.GET_DATA, key: e12 })];
          case 1:
            return [2, t2.sent()];
        }
      });
    });
  }, this.proxyToListeners = function(i7) {
    return __awaiter(d8, void 0, void 0, function() {
      var r10, s12 = this;
      return __generator(this, function(a10) {
        return r10 = i7.data.messageBusEvent, "https://liff-subwindow.line.me" !== i7.origin ? [2] : r10 ? (this.sentMessages.includes(b4(r10)) || r10.identifier !== this.identification.identifier || r10.action !== l8.BROADCAST && !r10.replyTarget || this.listeners.forEach(function(i8) {
          return __awaiter(s12, void 0, void 0, function() {
            var t2, s13, a11;
            return __generator(this, function(n6) {
              switch (n6.label) {
                case 0:
                  return t2 = i8, s13 = [__assign({}, r10)], a11 = {}, [4, this.getDecryptedContext(r10.context)];
                case 1:
                  return t2.apply(void 0, [__assign.apply(void 0, s13.concat([(a11.context = n6.sent(), a11)]))]), [2];
              }
            });
          });
        }), [2]) : [2];
      });
    });
  }, this.getEncryptedContext = function(e11) {
    return __awaiter(d8, void 0, void 0, function() {
      var t2, i7, r10, s12, a10, o7, c13;
      return __generator(this, function(n6) {
        switch (n6.label) {
          case 0:
            return t2 = this.identification, i7 = t2.identifier, r10 = t2.cryptoKey, a10 = (s12 = JSON).stringify, c13 = { eventName: e11.eventName, key: e11.key ? e11.key : void 0 }, e11.data ? [4, w5(i7, r10, JSON.stringify(e11.data))] : [3, 2];
          case 1:
            return o7 = n6.sent(), [3, 3];
          case 2:
            o7 = void 0, n6.label = 3;
          case 3:
            return [2, a10.apply(s12, [(c13.data = o7, c13)])];
        }
      });
    });
  }, this.getDecryptedContext = function(i7) {
    return __awaiter(d8, void 0, void 0, function() {
      var t2, r10, s12, a10, o7, c13, d9, u12;
      return __generator(this, function(n6) {
        switch (n6.label) {
          case 0:
            return t2 = this.identification, r10 = t2.identifier, s12 = t2.cryptoKey, (a10 = JSON.parse(i7)).data && "string" == typeof a10.data ? (u12 = (d9 = JSON).parse, [4, y5(r10, s12, a10.data)]) : [3, 2];
          case 1:
            return c13 = u12.apply(d9, [n6.sent()]), [3, 3];
          case 2:
            c13 = void 0, n6.label = 3;
          case 3:
            return o7 = c13, [2, __assign(__assign({}, a10), { data: o7 })];
        }
      });
    });
  }, this.windowType = o6;
};

// node_modules/@liff/native-bridge/lib/index.es.js
function l9(e11) {
  return new CustomEvent(o, { detail: e11 });
}
!function() {
  if ("undefined" != typeof window && "function" != typeof window.CustomEvent) {
    let t2 = function(t3, e11) {
      var i7 = e11 || {}, o6 = i7.bubbles, n6 = void 0 !== o6 && o6, a10 = i7.cancelable, r10 = void 0 !== a10 && a10, d8 = i7.detail, l14 = void 0 === d8 ? void 0 : d8, f14 = document.createEvent("CustomEvent");
      return f14.initCustomEvent(t3, n6, r10, l14), f14;
    };
    t2.prototype = Event.prototype, window.CustomEvent = t2;
  }
}();
var f7 = {};
var c8 = false;
function s6(e11, i7) {
  c8 || (c8 = true, window.addEventListener(o, function(t2) {
    t2 && t2.detail && t2.detail.type && f7[t2.detail.type] && f7[t2.detail.type].forEach(function(e12) {
      return e12(t2);
    });
  })), f7[e11] ? f7[e11].push(i7) : f7[e11] = [i7];
}
function u7(t2, e11) {
  var i7 = f7[t2];
  if (i7 && Array.isArray(i7)) {
    var o6 = i7.indexOf(e11);
    o6 >= 0 && i7.splice(o6, 1);
  }
}
function v4(t2) {
  var i7 = {};
  try {
    i7 = JSON.parse(t2);
  } catch (r10) {
    throw w(i3, r10.message);
  }
  var a10 = l9(i7);
  i.debug("[client dispatchEvent to js]", { type: a10.type, detail: a10.detail }), window.dispatchEvent(a10);
}
function p7(t2, a10, d8) {
  void 0 === a10 && (a10 = {}), void 0 === d8 && (d8 = "");
  var l14 = w2();
  if (!l14)
    throw w(E, "Invalid featureToken for client features");
  if (!window._liff || !window._liff.postMessage)
    throw w(i3, "postMessage is not available from client");
  i.debug("[js postMessage to client]", t2, d8, a10), window._liff.postMessage(t2, l14, d8, JSON.stringify(a10));
}
function w6(t2, e11, l14) {
  return void 0 === e11 && (e11 = {}), void 0 === l14 && (l14 = { once: true }), w2() ? (l14 = __assign({ callbackId: x(12), once: true }, l14), new Promise(function(i7, n6) {
    var a10 = function(e12) {
      if (e12 && e12.detail) {
        var r10 = e12.detail.callbackId === l14.callbackId, d8 = "string" != typeof e12.detail.callbackId;
        (r10 || d8) && (l14.once && u7(t2, a10), i.debug("[callback detail]", e12.detail), e12.detail.error ? n6(e12.detail.error) : e12.detail.data ? i7(e12.detail.data) : n6(e12.detail));
      }
      n6();
    };
    s6(t2, a10), p7(t2, e11, l14.callbackId);
  })) : Promise.reject(w(E, "Invalid featureToken for client features"));
}

// node_modules/@liff/close-window/lib/index.es.js
function r8() {
  var o6 = r5();
  null !== o6 && ("ios" === e6() && f2(o6, "9.19") >= 0 || "android" === e6() && f2(o6, "11.6.0") >= 0) ? location.href = "liff://close" : window._liff && window._liff.postMessage ? null !== o6 && f2(o6, "10.15.0") >= 0 ? "ios" === e6() ? window._liff.postMessage("closeWindow", "") : window._liff.postMessage("closeWindow", "", "", "") : w6("closeWindow") : window.close();
}
var l10 = function(i7) {
  function n6() {
    return null !== i7 && i7.apply(this, arguments) || this;
  }
  return __extends(n6, i7), Object.defineProperty(n6.prototype, "name", { get: function() {
    return "closeWindow";
  }, enumerable: false, configurable: true }), n6.prototype.install = function() {
    return function() {
      return r8();
    };
  }, n6;
}(a);

// node_modules/@liff/sub-window/lib/index.es.js
function G3(t2) {
  var e11 = l7("subWindowGetOrigin");
  return f5(e11(t2));
}
var V2 = {};
function F3(t2, e11) {
  t2 && V2[t2] && V2[t2].forEach(function(t3) {
    t3(e11);
  });
}
function _2(t2, e11) {
  V2[t2] || (V2[t2] = []), V2[t2].push(e11);
}
function q2(t2, e11) {
  if (V2[t2]) {
    var n6 = V2[t2].indexOf(e11);
    n6 >= 0 && V2[t2].splice(n6, 1);
  }
}
var z2;
var H3;
var Q2;
var X2;
var Y2;
var Z2 = function() {
  function t2(t3) {
    this.storage = t3;
  }
  return t2.prototype.getItem = function(t3) {
    return this.storage.getItem("".concat(this.getKeyPrefix(), ":").concat(t3));
  }, t2.prototype.setItem = function(t3, e11) {
    this.storage.setItem("".concat(this.getKeyPrefix(), ":").concat(t3), e11);
  }, t2.prototype.removeItem = function(t3) {
    this.storage.removeItem("".concat(this.getKeyPrefix(), ":").concat(t3));
  }, t2.prototype.clear = function() {
    this.storage.clear();
  }, t2.prototype.getKeyPrefix = function() {
    return "".concat(l2, ":").concat(this.getLiffId());
  }, t2.prototype.getLiffId = function() {
    var t3 = c5().liffId;
    if (!t3)
      throw w(n3, "liffId is necessary for liff.init()");
    return t3;
  }, t2;
}();
var $3 = new Z2(new b());
function tt() {
  var t2 = $3.getItem("subWindowStatusUpdated");
  return null !== t2 && JSON.parse(t2);
}
function et(t2) {
  $3.setItem("subWindowStatusUpdated", String(t2));
}
function nt(t2) {
  z2 = t2;
}
function rt() {
  return z2;
}
function it() {
  return Q2;
}
function ot() {
  return X2;
}
function st() {
  return __awaiter(this, arguments, void 0, function(t2) {
    return void 0 === t2 && (t2 = h5.MAIN), __generator(this, function(e11) {
      switch (e11.label) {
        case 0:
          return [4, (Y2 = new T5(t2)).setup()];
        case 1:
          return e11.sent(), [2, Y2];
      }
    });
  });
}
function ut() {
  return Y2;
}
var at = new b();
var ct = new Z2(J() ? at : window.sessionStorage);
function ft(t2) {
  ct.setItem("mainWindowOrigin", t2);
}
function lt() {
  return ct.getItem("mainWindowOrigin");
}
function dt(n6) {
  return __awaiter(this, arguments, void 0, function(t2, n7) {
    var r10, i7, o6, s12, u12, a10, c13, f14;
    return void 0 === n7 && (n7 = {}), __generator(this, function(e11) {
      switch (e11.label) {
        case 0:
          if (null == (r10 = ut()) ? void 0 : r10.isReady())
            return [3, 5];
          if (i7 = JSON.stringify(n7), o6 = c5().liffId, s12 = lt(), !window.opener || !s12 || !o6)
            throw w(N);
          u12 = false, e11.label = 1;
        case 1:
          return e11.trys.push([1, 3, , 4]), [4, G3(o6)];
        case 2:
          return a10 = e11.sent(), u12 = a10.subwindowCommonModule, [3, 4];
        case 3:
          throw c13 = e11.sent(), i.debug(c13), w(N);
        case 4:
          return f14 = u12 ? s12 : location.origin, [2, new Promise(function(e12) {
            window.addEventListener("message", function n8(r11) {
              mt(r11) && (window.removeEventListener("message", n8), e12({ status: t2, result: i7 }));
            }), window.opener.postMessage({ status: t2, result: i7 }, f14);
          })];
        case 5:
          return r10.send({ eventName: t2, data: n7 }), [4, new Promise(function(t3) {
            setTimeout(t3, 500);
          })];
        case 6:
          return e11.sent(), [2, { status: t2, result: JSON.stringify(n7) }];
      }
    });
  });
}
function mt(t2) {
  return !(!t2.data || "string" != typeof t2.data.type || ![C.SUBMIT, C.CANCEL].includes(t2.data.type));
}
function vt(t2) {
  var e11, n6 = ot();
  if (t2.origin === n6) {
    var r10 = t2.data;
    if (r10) {
      var i7, o6 = r10.status, s12 = r10.result;
      try {
        i7 = JSON.parse(s12 || "{}");
      } catch (u12) {
        i7 = {};
      }
      switch (o6) {
        case R:
          window.clearInterval(it()), gt();
          break;
        case C.CANCEL:
        case C.SUBMIT:
          et(true), window.clearInterval(it()), window.removeEventListener("message", vt), F3(o6, i7), null === (e11 = rt()) || void 0 === e11 || e11.postMessage({ type: o6 }, ot());
          break;
        default:
          i.debug("unexpected message");
      }
    }
  }
}
var pt = function(n6) {
  return __awaiter(void 0, void 0, void 0, function() {
    var t2, r10, i7, o6;
    return __generator(this, function(e11) {
      if (tt())
        return [2];
      switch (t2 = n6.context, r10 = t2.eventName, i7 = t2.data, o6 = ut(), r10) {
        case C.INIT:
          wt(!i7.hasOpener);
          break;
        case C.CANCEL:
        case C.SUBMIT:
          et(true), F3(r10, i7), null == o6 || o6.reply(n6, { eventName: r10 });
          break;
        case C.CLOSE:
          false === tt() && (et(true), F3(C.CLOSE, {})), gt();
      }
      return [2];
    });
  });
};
function ht() {
  window.clearInterval(H3), window.clearInterval(it()), window.removeEventListener("message", vt);
}
function wt(t2) {
  if (void 0 === t2 && (t2 = false), ht(), et(false), t2) {
    var e11 = rt();
    e11 && (e11.close(), nt(null));
  }
}
function gt() {
  return __awaiter(this, void 0, void 0, function() {
    var t2;
    return __generator(this, function(e11) {
      switch (e11.label) {
        case 0:
          return (t2 = ut()) ? [4, t2.teardown()] : [3, 2];
        case 1:
          e11.sent(), e11.label = 2;
        case 2:
          return [2];
      }
    });
  });
}
function bt(i7) {
  return __awaiter(this, void 0, void 0, function() {
    var t2, o6, s12, u12, a10, c13, f14, l14, b6, y6, S7, I7;
    return __generator(this, function(e11) {
      switch (e11.label) {
        case 0:
          return (t2 = k(i7.url)) ? (wt(true), [4, gt()]) : [2, Promise.reject(w(i3, "params.url must be liff url or mini url"))];
        case 1:
          return e11.sent(), nt("ios" !== e6() || P() ? window.open("", "liffsubwindow", "width=480, height=640, menubar=no, toolbar=no, scrollbars=yes") : window.open()), o6 = i7.url, s12 = i7.appData, (u12 = new URL(o6)).searchParams.append(L, "true"), [4, st()];
        case 2:
          return a10 = e11.sent(), u12.searchParams.append(d5, a10.identification.identifier), u12.searchParams.append(u6, a10.identification.cryptoKey), u12.hostname = function(t3) {
            var e12 = __read(t3.split(".")), i8 = e12[0], o7 = e12.slice(1);
            return __spreadArray(["".concat(i8, "-ext")], __read(o7), false).join(".");
          }(u12.hostname), c13 = u12.toString(), [4, G3(t2)];
        case 3:
          if (f14 = e11.sent(), l14 = f14.origin, b6 = f14.subwindowCommonModule, !(y6 = rt()))
            throw w(f);
          if (!b6)
            return y6.close(), [2];
          !function(t3) {
            X2 = t3;
          }(l14), a10.listen(pt), a10.setData("appData", s12), window.addEventListener("message", vt), e11.label = 4;
        case 4:
          return e11.trys.push([4, 6, , 7]), [4, null === (I7 = i7.onBeforeTransition) || void 0 === I7 ? void 0 : I7.call(i7)];
        case 5:
          return e11.sent(), [3, 7];
        case 6:
          throw S7 = e11.sent(), y6.close(), S7;
        case 7:
          return y6.location.href = c13, P6 = function(t3, e12) {
            var n6 = rt(), r10 = { type: R };
            return e12 && (r10.message = JSON.stringify(e12)), window.setInterval(function() {
              null == n6 || n6.postMessage(r10, t3);
            }, S);
          }(l14, s12), Q2 = P6, function(t3) {
            H3 = t3;
          }(window.setInterval(function() {
            var t3 = rt();
            t3 && t3.closed && (ht(), nt(null), false === tt() && (et(true), F3(C.CLOSE, {})));
          }, p)), [2];
      }
      var P6;
    });
  });
}
var yt = null;
function St(i7) {
  return __awaiter(this, void 0, void 0, function() {
    var o6, s12, u12, a10, c13, f14, l14, m9, v7, h8, w8, g9, y6, S7, I7 = this;
    return __generator(this, function(P6) {
      switch (P6.label) {
        case 0:
          if (o6 = i7.msit, s12 = i7.mstChallenge, u12 = i7.reconnectCount, a10 = void 0 === u12 ? 0 : u12, c13 = function() {
            return __awaiter(I7, void 0, void 0, function() {
              return __generator(this, function(t2) {
                switch (t2.label) {
                  case 0:
                    return [4, (e11 = 1e3, new Promise(function(t3) {
                      return setTimeout(t3, e11);
                    }))];
                  case 1:
                    return t2.sent(), [4, St({ msit: o6, mstChallenge: s12, onSuccess: i7.onSuccess, onError: i7.onError, reconnectCount: a10 + 1 })];
                  case 2:
                    return t2.sent(), [2];
                }
                var e11;
              });
            });
          }, f14 = function() {
            for (var t2 = [], e11 = 0; e11 < arguments.length; e11++)
              t2[e11] = arguments[e11];
            yt = null, i7.onSuccess.apply(i7, __spreadArray([], __read(t2), false));
          }, l14 = function() {
            for (var t2 = [], e11 = 0; e11 < arguments.length; e11++)
              t2[e11] = arguments[e11];
            yt = null, i7.onError.apply(i7, __spreadArray([], __read(t2), false));
          }, m9 = Date.now(), null === yt && (yt = m9), v7 = m9 - yt, a10 >= 10 || v7 > 6e5)
            return l14(w(e2, "Failed to connect")), [2];
          P6.label = 1;
        case 1:
          return P6.trys.push([1, 3, , 5]), [4, p6(l7("subWindowSubscribe"), { method: "POST", body: JSON.stringify({ msit: o6, mstChallenge: s12 }) })];
        case 2:
          return h8 = P6.sent(), [3, 5];
        case 3:
          return P6.sent(), [4, c13()];
        case 4:
          return P6.sent(), [2];
        case 5:
          return h8.status >= 500 ? [4, c13()] : [3, 7];
        case 6:
          return P6.sent(), [3, 17];
        case 7:
          return h8.status >= 400 && 500 > h8.status ? [4, It(h8)] : [3, 9];
        case 8:
          return g9 = P6.sent(), w8 = g9 ? w(i3, g9.errorDetail) : w(e2, "Some error happened in the server"), l14(w8), [3, 17];
        case 9:
          return 200 !== h8.status ? [3, 16] : [4, It(h8)];
        case 10:
          if (!(g9 = P6.sent()))
            return l14(w(e2, "Some error happened in the server")), [2];
          switch (y6 = g9.status, S7 = g9.result, y6) {
            case C.ERROR:
              return [3, 11];
            case C.CLOSE:
            case C.CANCEL:
            case C.SUBMIT:
              return [3, 13];
          }
          return [3, 14];
        case 11:
          return [4, c13()];
        case 12:
          return P6.sent(), [3, 15];
        case 13:
          return f14(y6, S7), [3, 15];
        case 14:
          l14(w(e2, "Some error happened in the server")), P6.label = 15;
        case 15:
          return [3, 17];
        case 16:
          l14(w(e2, "Some error happened in the server")), P6.label = 17;
        case 17:
          return [2];
      }
    });
  });
}
function It(n6) {
  return __awaiter(this, void 0, void 0, function() {
    return __generator(this, function(t2) {
      switch (t2.label) {
        case 0:
          return t2.trys.push([0, 2, , 3]), [4, n6.json()];
        case 1:
          return [2, t2.sent()];
        case 2:
          return t2.sent(), [2, null];
        case 3:
          return [2];
      }
    });
  });
}
function Ot(t2) {
  var e11 = {};
  return Object.keys(t2).forEach(function(n6) {
    "closeButtonColor" === n6 ? "white" === t2[n6] ? e11[n6] = "#ffffff" : e11[n6] = "#000000" : e11[n6] = t2[n6];
  }), e11;
}
var Pt = { height: "full", closeButtonPosition: "right", closeButtonColor: "black", closeButtonLabel: "" };
function Ct(n6) {
  var r10 = n6.appData, i7 = n6.native, o6 = c5().liffId, s12 = M(), u12 = k(n6.url);
  if (!o6)
    return Promise.reject(w(t, "liffId is invalid"));
  if (!s12)
    return Promise.reject(w(t, "mst_challenge is invalid"));
  if (!u12)
    return Promise.reject(w(i3, "params.url must be liff url or mini url"));
  var a10 = Object.assign({}, Pt, i7);
  return function(t2) {
    var e11 = t2.mainLiffId, n7 = t2.subLiffId, r11 = t2.mstChallenge, i8 = t2.appData, o7 = t2.view;
    return e11 && r11 ? f5(l7("subWindowGetMSIT"), { method: "POST", body: JSON.stringify({ mainLiffId: e11, subLiffId: n7, mstChallenge: r11, appData: i8, view: o7 }) }) : Promise.reject(w(i3, "no proper argument"));
  }({ mainLiffId: o6, subLiffId: u12, mstChallenge: s12, appData: r10, view: Ot(a10) }).then(function(t2) {
    var e11 = t2.msit;
    return St({ msit: e11, mstChallenge: s12, onSuccess: function(t3, e12) {
      F3(t3, e12);
    }, onError: function(t3) {
      F3(C.ERROR, t3);
    } }), e11;
  }).then(function(r11) {
    return function(n7, r12) {
      return __awaiter(this, void 0, void 0, function() {
        var t2, i8, o7;
        return __generator(this, function(e11) {
          switch (e11.label) {
            case 0:
              return t2 = n7.url, (i8 = new URLSearchParams()).set("msit", r12), [4, null === (o7 = n7.onBeforeTransition) || void 0 === o7 ? void 0 : o7.call(n7)];
            case 1:
              return e11.sent(), location.href = "".concat(m, "?url=").concat(encodeURIComponent(t2), "&").concat(i8.toString()), [2];
          }
        });
      });
    }(n6, r11);
  });
}
function Lt(t2) {
  return H2.subwindowOpen(), u3() ? Ct(t2) : bt(t2);
}
function Et(t2) {
  if (!t2.mst || !t2.status)
    return Promise.reject(w(i3, "no proper argument"));
  var e11 = JSON.stringify(t2);
  return f5(l7("subWindowPost"), { method: "POST", body: e11 });
}
function Nt() {
  if (!d3())
    throw w(t, "this api can be only called in child window");
}
function Tt(n6) {
  return void 0 === n6 && (n6 = {}), Nt(), u3() ? function() {
    return __awaiter(this, arguments, void 0, function(t2) {
      var n7, r10;
      return void 0 === t2 && (t2 = {}), __generator(this, function(e11) {
        switch (e11.label) {
          case 0:
            return (n7 = D2()) ? [4, Et({ mst: n7, status: C.CANCEL, result: t2 })] : [2, Promise.reject(w(t, "mst is invalid"))];
          case 1:
            return r10 = e11.sent(), et(true), [2, r10];
        }
      });
    });
  }(n6) : function(t2) {
    return void 0 === t2 && (t2 = {}), dt(C.CANCEL, t2);
  }(n6);
}
function jt(n6) {
  return void 0 === n6 && (n6 = {}), Nt(), u3() ? function() {
    return __awaiter(this, arguments, void 0, function(t2) {
      var n7, r10;
      return void 0 === t2 && (t2 = {}), __generator(this, function(e11) {
        switch (e11.label) {
          case 0:
            return (n7 = D2()) ? [4, Et({ mst: n7, status: C.SUBMIT, result: t2 })] : [2, Promise.reject(w(t, "mst is invalid"))];
          case 1:
            return r10 = e11.sent(), et(true), [2, r10];
        }
      });
    });
  }(n6) : function(t2) {
    return void 0 === t2 && (t2 = {}), dt(C.SUBMIT, t2);
  }(n6);
}
function Mt() {
  return Nt(), u3() ? function() {
    return __awaiter(this, void 0, void 0, function() {
      var t2;
      return __generator(this, function(e11) {
        switch (e11.label) {
          case 0:
            return false !== tt() ? [3, 2] : (t2 = D2()) ? [4, Et({ mst: t2, status: C.CLOSE, result: {} })] : [2, Promise.reject(w(t, "mst is invalid"))];
          case 1:
            e11.sent(), e11.label = 2;
          case 2:
            return r8(), [2];
        }
      });
    });
  }() : function() {
    return __awaiter(this, void 0, void 0, function() {
      var t2;
      return __generator(this, function(e11) {
        return (null == (t2 = ut()) ? void 0 : t2.isReady()) ? (t2.send({ eventName: C.CLOSE }), [2, new Promise(function(t3) {
          setTimeout(function() {
            r8(), t3();
          }, S);
        })]) : (r8(), [2, Promise.resolve()]);
      });
    });
  }();
}
function Bt() {
  return Nt(), function() {
    var t2, e11 = b2();
    try {
      t2 = e11 ? JSON.parse(e11) : {};
    } catch (n6) {
      t2 = {};
    }
    return Promise.resolve(t2);
  }();
}
function Dt(t2) {
  var e11 = t2.msit, n6 = t2.mstVerifier;
  return e11 && n6 ? f5(l7("subWindowGetMSTByMSIT"), { method: "POST", body: JSON.stringify({ msit: e11, mstVerifier: n6 }) }) : Promise.reject(w(i3, "no proper argument"));
}
function At(t2) {
  var e11 = t2.mst;
  return e11 ? f5(l7("subWindowGetAppData"), { method: "POST", body: JSON.stringify({ mst: e11 }) }) : Promise.reject(w(i3, "no proper argument"));
}
var Jt = { on: _2, off: q2, open: Lt, cancel: Tt, submit: jt, close: Mt, getAppData: Bt };
var Rt = function(t2) {
  function e11() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(e11, t2), Object.defineProperty(e11.prototype, "name", { get: function() {
    return "subWindow";
  }, enumerable: false, configurable: true }), e11.prototype.install = function() {
    var t3 = this;
    return { on: _2.bind(this), off: q2.bind(this), open: function(e12) {
      return Lt.call(t3, __assign(__assign({}, e12), { onBeforeTransition: void 0 }));
    }, cancel: Tt.bind(this), submit: jt.bind(this), close: Mt.bind(this), getAppData: Bt.bind(this) };
  }, e11;
}(a);

// node_modules/@liff/login/lib/index.es.js
var import_tiny_sha256 = __toESM(require_tiny_sha256());

// node_modules/@liff/hooks/lib/index.es.js
var s7 = function() {
  var e11 = this;
  this.type = "sync", this.fns = /* @__PURE__ */ new Set(), this.on = function(n6) {
    e11.fns.add(n6);
  }, this.call = function() {
    for (var i7, s12, a10 = [], o6 = 0; o6 < arguments.length; o6++)
      a10[o6] = arguments[o6];
    try {
      for (var l14 = __values(e11.fns), c13 = l14.next(); !c13.done; c13 = l14.next()) {
        var f14 = c13.value;
        f14.apply(void 0, __spreadArray([], __read(a10), false));
      }
    } catch (u12) {
      i7 = { error: u12 };
    } finally {
      try {
        c13 && !c13.done && (s12 = l14.return) && s12.call(l14);
      } finally {
        if (i7)
          throw i7.error;
      }
    }
  };
};
var a6 = function() {
  var s12 = this;
  this.type = "async", this.fns = /* @__PURE__ */ new Set(), this.on = function(n6) {
    s12.fns.add(n6);
  }, this.call = function() {
    for (var a10 = [], o6 = 0; o6 < arguments.length; o6++)
      a10[o6] = arguments[o6];
    return __awaiter(s12, void 0, void 0, function() {
      var e11, s13, o7, l14, c13, f14;
      return __generator(this, function(i7) {
        switch (i7.label) {
          case 0:
            e11 = [];
            try {
              for (s13 = __values(this.fns), o7 = s13.next(); !o7.done; o7 = s13.next())
                l14 = o7.value, e11.push(l14.apply(void 0, __spreadArray([], __read(a10), false)));
            } catch (u12) {
              c13 = { error: u12 };
            } finally {
              try {
                o7 && !o7.done && (f14 = s13.return) && f14.call(s13);
              } finally {
                if (c13)
                  throw c13.error;
              }
            }
            return [4, Promise.all(e11)];
          case 1:
            return i7.sent(), [2];
        }
      });
    });
  };
};

// node_modules/@liff/login/lib/index.es.js
var v5 = function(i7) {
  var o6, r10 = x(43), d8 = y((0, import_tiny_sha256.default)(r10)).replace(/\+/g, "-").replace(/\//g, "_").replace(/=/g, ""), _4 = c5();
  if (!_4 || !_4.liffId)
    throw w(n3, "You need to define `liffId` for liff.login()");
  var v7 = { app_id: _4.liffId, state: x(12), response_type: "code", code_challenge_method: "S256", code_challenge: d8, liff_sdk_version: r4() };
  i7 && i7.redirectUri && (v7.redirect_uri = i7.redirectUri), d3() && !u3() && ((null === (o6 = ut()) || void 0 === o6 ? void 0 : o6.isReady()) ? v7.redirect_uri = window.location.href : v7.disable_auto_login = "true"), Q({ codeVerifier: r10 });
  var w8 = l7("authorize") + "?" + A2.stringify(v7);
  i.debug("[Redirect] ".concat(w8)), window.location.href = w8;
};
var w7 = function(e11) {
  function t2() {
    var i7 = e11.apply(this, __spreadArray([], __read(arguments), false)) || this;
    return i7.hooks = { before: new s7() }, i7;
  }
  return __extends(t2, e11), Object.defineProperty(t2.prototype, "name", { get: function() {
    return "login";
  }, enumerable: false, configurable: true }), t2.prototype.install = function() {
    return this._login.bind(this);
  }, t2.prototype._login = function(i7) {
    this.hooks.before.call(i7), v5(i7);
  }, t2;
}(a);

// node_modules/@liff/i18n/lib/index.es.js
var a7;
var u8 = "undefined" == typeof navigator ? "en" : null !== (a7 = navigator.language) && void 0 !== a7 ? a7 : "en";
var c9 = null;
function l11(n6) {
  return __awaiter(this, void 0, void 0, function() {
    return __generator(this, function(t2) {
      switch (t2.label) {
        case 0:
          return u8 = n6, [4, f8()];
        case 1:
          return t2.sent(), [2];
      }
    });
  });
}
function f8() {
  return __awaiter(this, void 0, void 0, function() {
    var n6, t2;
    return __generator(this, function(e11) {
      switch (e11.label) {
        case 0:
          return [4, f5("".concat("https://liffsdk.line-scdn.net/xlt/manifest.json"), { method: "GET", headers: { Accept: "application/json" } })];
        case 1:
          return n6 = e11.sent(), t2 = "".concat(u8), !n6.languages[t2] && u8.includes("-") && (t2 = u8.split("-")[0]), n6.languages[t2] || (t2 = "en"), [4, f5("".concat("https://liffsdk.line-scdn.net/xlt", "/").concat(n6.languages[t2]), { method: "GET", headers: { Accept: "application/json" } })];
        case 2:
          return c9 = e11.sent(), [2];
      }
    });
  });
}
function p8(n6) {
  if (null === c9)
    throw w(I, "please call xlt after liff.init");
  return c9[n6];
}
var d6 = function(i7) {
  function r10() {
    return null !== i7 && i7.apply(this, arguments) || this;
  }
  return __extends(r10, i7), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "i18n";
  }, enumerable: false, configurable: true }), r10.prototype.install = function(n6) {
    return n6.internalHooks.init.beforeFinished(this.beforeInitFinished.bind(this)), { setLang: l11 };
  }, r10.prototype.beforeInitFinished = function() {
    return __awaiter(this, void 0, void 0, function() {
      return __generator(this, function(n6) {
        switch (n6.label) {
          case 0:
            return [4, f8()];
          case 1:
            return n6.sent(), [2];
        }
      });
    });
  }, r10;
}(a);
var h7 = new d6();

// node_modules/@liff/init/lib/index.es.js
var Ee = { iconColor: "#111111", statusBarColor: "BLACK", titleTextColor: "#111111", titleSubtextColor: "#B7B7B7", titleButtonColor: "#111111", titleBackgroundColor: "#FFFFFF", progressBarColor: "#06C755", progressBackgroundColor: "#FFFFFF", titleButtonAreaBackgroundColor: "#1FFFFFFF", titleButtonAreaBorderColor: "#26000000", baseBackgroundColor: "#FFFFFF", baseTextColor: "#000000", lightButtonBorderColor: "rgba(0, 0, 0, 0.15)" };
var Le = { iconColor: "#FFFFFF", statusBarColor: "WHITE", titleTextColor: "#FFFFFF", titleSubtextColor: "#949494", titleButtonColor: "#FFFFFF", titleBackgroundColor: "#111111", progressBarColor: "#06C755", progressBackgroundColor: "#111111", titleButtonAreaBackgroundColor: "#1FFFFFFF", titleButtonAreaBorderColor: "#26000000", baseBackgroundColor: "#000000", baseTextColor: "#FFFFFF", lightButtonBorderColor: "rgba(255, 255, 255, 0.5)" };
function Ne() {
  var e11;
  Ue("color-scheme", ((null == (e11 = E3()) ? void 0 : e11.menuColorSetting) || { adaptableColorSchemes: ["light"] }).adaptableColorSchemes.join(" "));
  var t2 = window.matchMedia("(prefers-color-scheme: dark)");
  De({ matches: null == t2 ? void 0 : t2.matches, media: null == t2 ? void 0 : t2.media }), t2.addEventListener ? t2.addEventListener("change", De) : t2.addListener && t2.addListener(De);
}
function De(t2) {
  var n6 = E3(), r10 = (null == n6 ? void 0 : n6.menuColorSetting) || { adaptableColorSchemes: ["light"], lightModeColor: Ee, darkModeColor: Le }, o6 = r10.adaptableColorSchemes, i7 = r10.lightModeColor, a10 = r10.darkModeColor, c13 = o6.includes("dark");
  t2.matches && c13 ? Oe(__assign(__assign({}, Le), a10)) : Oe(__assign(__assign({}, Ee), i7));
}
function Oe(e11) {
  var t2 = e11.iconColor, n6 = e11.statusBarColor, r10 = e11.titleTextColor, o6 = e11.titleSubtextColor, i7 = e11.titleButtonColor, a10 = e11.titleBackgroundColor, c13 = e11.progressBarColor, s12 = e11.progressBackgroundColor, l14 = e11.titleButtonAreaBackgroundColor, d8 = e11.titleButtonAreaBorderColor, h8 = e11.baseBackgroundColor, p12 = e11.baseTextColor, v7 = e11.lightButtonBorderColor;
  Ue("--liff-base-background-color", h8), Ue("--liff-base-text-color", p12), Ue("--liff-base-background-rgb-color", d(h8)), Ue("--liff-base-text-rgb-color", d(p12)), Ue("--liff-light-button-border-color", v7), Ue("--liff-title-text-color", r10), Ue("--liff-title-background-color", a10), Ue("--liff-title-button-color", i7), Ue("--liff-icon-color", t2), Ue("--liff-status-bar-color", n6), Ue("--liff-title-subtext-color", o6), Ue("--liff-progress-bar-color", c13), Ue("--liff-progress-background-color", s12), Ue("--liff-title-button-area-background-color", s3(l14)), Ue("--liff-title-button-area-border-color", s3(d8));
}
function Ue(e11, t2) {
  document.documentElement.style.setProperty(e11, t2);
}
var Pe = { addToHomeScreen: function(e11) {
  if (!new o3(e11).invoke("addToHomeScreen"))
    throw w(E, "No permission for liff.addToHomeScreen()");
}, scanCode: function(e11) {
  if (!new o3(e11).invoke("scanCode"))
    return Promise.reject(w(E, "No permission for liff.scanCode()"));
}, getAdvertisingId: function(e11) {
  if (!new o3(e11).invoke("getAdvertisingId"))
    return Promise.reject(w(E, "No permission for liff.getAdvertisingId()"));
}, initPlugins: function() {
} };
function We(e11) {
  return __awaiter(this, void 0, void 0, function() {
    var t2;
    return __generator(this, function(n6) {
      switch (n6.label) {
        case 0:
          return [4, y3()];
        case 1:
          return (t2 = n6.sent()) ? (t2.install(e11, Pe), [2]) : [2];
      }
    });
  });
}
function je() {
  return __awaiter(this, void 0, void 0, function() {
    return __generator(this, function(e11) {
      switch (e11.label) {
        case 0:
          return [4, f5(l7("certs"))];
        case 1:
          return [2, e11.sent()];
      }
    });
  });
}
function Me(e11, r10, o6) {
  return __awaiter(this, void 0, void 0, function() {
    var t2;
    return __generator(this, function(n6) {
      switch (n6.label) {
        case 0:
          return [4, crypto.subtle.importKey("jwk", e11, { name: "ECDSA", namedCurve: "P-256" }, false, ["verify"])];
        case 1:
          return t2 = n6.sent(), [4, crypto.subtle.verify({ name: "ECDSA", hash: { name: "SHA-256" } }, t2, o6, r10)];
        case 2:
          return [2, n6.sent()];
      }
    });
  });
}
function Re(e11, o6) {
  return __awaiter(this, void 0, void 0, function() {
    var t2, i7, a10, c13, s12, l14, f14, u12, v7, m9, w8, g9, b6, k4, C7, F4;
    return __generator(this, function(n6) {
      switch (n6.label) {
        case 0:
          return t2 = e11.split("."), i7 = __read(t2, 3), a10 = i7[0], c13 = i7[1], s12 = i7[2], l14 = JSON.parse(u2.decode(a10)), f14 = JSON.parse(u2.decodeUnicode(c13)), u12 = l3(u2.decode(s12)), v7 = l3("".concat(a10, ".").concat(c13)), [4, je()];
        case 1:
          if (m9 = n6.sent(), !(w8 = m9.keys.find(function(e12) {
            return e12.kid === l14.kid;
          })))
            return [3, 6];
          if (delete w8.alg, "ES256" !== l14.alg)
            throw w(T, 'Invalid "alg" value in ID_TOKEN');
          g9 = void 0, n6.label = 2;
        case 2:
          return n6.trys.push([2, 4, , 5]), [4, Me(w8, v7, u12)];
        case 3:
          return g9 = n6.sent(), [3, 5];
        case 4:
          throw b6 = n6.sent(), w(T, "".concat("Failed to use Crypto API to verify ID_TOKEN", ": ").concat(b6));
        case 5:
          if (g9) {
            if (k4 = f14.iss !== "https://access.".concat("line.me"), C7 = f14.aud !== o6, F4 = 1e3 * f14.exp < Date.now(), k4)
              throw w(T, 'Invalid "iss" value in ID_TOKEN');
            if (C7)
              throw w(T, 'Invalid "aud" value in ID_TOKEN');
            if (F4)
              throw w(T, 'Invalid "exp" value in ID_TOKEN');
            return [2, f14];
          }
          throw w(T, "Invalid signature in ID_TOKEN");
        case 6:
          throw w(T, 'Invalid "kid" value in ID_TOKEN');
        case 7:
          return [2];
      }
    });
  });
}
function He(e11) {
  var t2 = e11.split(".");
  if (t2[1])
    try {
      var n6 = t2[1].replace(/-/g, "+").replace(/_/g, "/");
      return JSON.parse(window.atob(n6));
    } catch (r10) {
      return null;
    }
  return null;
}
function Ke(e11) {
  var t2 = e11.pathname, n6 = e11.query, r10 = n6 ? "?".concat(A2.stringify(n6)) : "", o6 = "".concat("liff://").concat(t2).concat(r10);
  location.href = o6;
}
var Ve = null;
function Je() {
  "boolean" == typeof Ve && i.warn("liff.init is not expected to be called more than once"), Ve = !!O3() || !(!u3() || A2.parse(window.location.hash).feature_token || w2()) && (P2(true), true);
}
function qe() {
  return Boolean(Ve);
}
function ze(e11, r10) {
  return __awaiter(this, void 0, void 0, function() {
    var t2;
    return __generator(this, function(n6) {
      switch (n6.label) {
        case 0:
          return (t2 = D2()) ? [2, t2] : e11 && r10 ? [4, Dt({ msit: e11, mstVerifier: r10 })] : [3, 2];
        case 1:
          return [2, n6.sent().mst];
        case 2:
          return [2, null];
      }
    });
  });
}
function Ge(e11) {
  return f5("".concat(l7("apps"), "/").concat(e11, "/featureToken"));
}
function Qe(e11) {
  return __awaiter(this, void 0, void 0, function() {
    var t2, r10, i7, a10;
    return __generator(this, function(n6) {
      switch (n6.label) {
        case 0:
          return t2 = A2.parse(window.location.hash), r10 = function(e12) {
            for (var t3, n7, r11 = [], i8 = 1; i8 < arguments.length; i8++)
              r11[i8 - 1] = arguments[i8];
            var a11 = function(t4) {
              Object.keys(t4).filter(function(e13) {
                return null !== t4[e13] && void 0 !== t4[e13];
              }).forEach(function(n8) {
                e12[n8] = t4[n8];
              });
            };
            try {
              for (var c13 = __values(r11), s12 = c13.next(); !s12.done; s12 = c13.next()) {
                a11(s12.value);
              }
            } catch (l14) {
              t3 = { error: l14 };
            } finally {
              try {
                s12 && !s12.done && (n7 = c13.return) && n7.call(c13);
              } finally {
                if (t3)
                  throw t3.error;
              }
            }
            return e12;
          }({ access_token: x2(), context_token: K(), feature_token: w2(), id_token: X(), client_id: j2(), mst_challenge: M(), mst_verifier: h2(), msit: v2() }, t2), qe() ? e3() ? [4, Ge(e11)] : [3, 2] : [3, 3];
        case 1:
          i7 = n6.sent().featureToken, r10.feature_token || (r10.feature_token = i7), n6.label = 2;
        case 2:
          (a10 = m2(e11)) && (r10.client_id = a10), n6.label = 3;
        case 3:
          return [2, r10];
      }
    });
  });
}
function Xe(e11) {
  if (e11.persisted && k3("multipleLiffTransition"))
    if ("ios" === e6())
      window.location.reload();
    else {
      var t2 = c5().liffId, n6 = w2();
      if (!t2)
        throw w(I, "Invalid LIFF ID.");
      if (!n6)
        throw w(E, "Invalid featureToken for client features");
      Ke({ pathname: "app/".concat(t2), query: { feature_token: n6 } });
    }
}
function Ye(e11) {
  return __awaiter(this, void 0, void 0, function() {
    var t2, r10, o6, i7, a10, c13, s12, f14, u12, h8, p12, m9, b6, k4, F4, y6, I7, _4, B4;
    return __generator(this, function(n6) {
      switch (n6.label) {
        case 0:
          return [4, new Promise(function(e12) {
            var t3 = r5();
            if (!t3 || f2(t3, "9.5.0") < 0)
              e12();
            else if (window._liff && window._liff.features)
              e12();
            else {
              i.debug("cannot find window._liff.features, listen to ready event");
              var n7 = function() {
                i.debug("ready event is fired"), u7("ready", n7), e12();
              };
              s6("ready", n7);
            }
          })];
        case 1:
          return n6.sent(), Je(), [4, Qe(e11.liffId)];
        case 2:
          if (t2 = n6.sent(), r10 = t2.access_token, o6 = t2.context_token, i7 = t2.feature_token, a10 = t2.id_token, c13 = t2.client_id, s12 = t2.mst_verifier, f14 = t2.mst_challenge, u12 = t2.msit, o6) {
            if ("string" != typeof o6)
              throw w(I, "Cannot get context token, perhaps there is an incorrect parameter in permanent link");
            I3(He(o6));
          }
          if (void 0 !== (null === (_4 = E3()) || void 0 === _4 ? void 0 : _4.liffId) && (null === (B4 = E3()) || void 0 === B4 ? void 0 : B4.liffId) !== e11.liffId)
            throw w(I, "Invalid LIFF ID");
          return !d3() && i7 && (!function(e12, t3) {
            k3("multipleLiffTransition") && Ke({ pathname: "app/".concat(e12), query: { feature_token: t3 } });
          }(e11.liffId, i7), qe() && U3(i7)), f14 && R3(f14), s12 && A3(s12), c13 && F2(c13), u12 && C3(u12), window.addEventListener("pageshow", Xe), e3() ? [3, 5] : i7 && r10 ? [3, 5] : qe() ? (h8 = E2(location.href, { "liff.hback": "2" }), v5({ redirectUri: h8 }), [4, new Promise(function() {
          })]) : [3, 4];
        case 3:
          n6.sent(), n6.label = 4;
        case 4:
          throw v5(), w(I, "Failed to parse feature_token or access_token");
        case 5:
          return r10 && i7 ? [4, d4(r10)] : [3, 7];
        case 6:
          if (p12 = n6.sent(), m9 = p12.client_id, b6 = p12.expires_in, k4 = m2(e11.liffId), m9 !== k4)
            throw v5(), w(I, "Failed to verify access_token");
          U3(i7), q(new Date(Date.now() + 1e3 * b6)), B2(r10), n6.label = 7;
        case 7:
          return [4, ze(u12, s12)];
        case 8:
          return (F4 = n6.sent()) ? (L3(F4), [4, At({ mst: F4 })]) : [3, 10];
        case 9:
          (y6 = n6.sent().data) && N2(JSON.stringify(y6)), n6.label = 10;
        case 10:
          return a10 && !X() && G2(a10), a10 && c13 && !Z() ? [4, Re(a10, c13)] : [3, 12];
        case 11:
          (I7 = n6.sent()) && $2(I7), n6.label = 12;
        case 12:
          return [2];
      }
    });
  });
}
function Ze(e11) {
  return __awaiter(this, void 0, void 0, function() {
    var t2, r10, o6, i7, a10, c13, s12;
    return __generator(this, function(n6) {
      switch (n6.label) {
        case 0:
          return t2 = l7("apps"), r10 = "".concat(t2, "/").concat(e11, "/contextToken"), o6 = x2(), i7 = { "Content-Type": "application/json", Accept: "application/json" }, o6 && (i7.Authorization = "Bearer ".concat(o6)), [4, f5(r10, { headers: i7 })];
        case 1:
          if (a10 = n6.sent(), !(c13 = a10.contextToken))
            throw w(I, "Can not get context from server.");
          if (!(s12 = He(c13)))
            throw w(I, "Invalid context token.");
          return [2, s12];
      }
    });
  });
}
function $e() {
  return __awaiter(this, void 0, void 0, function() {
    var e11, t2;
    return __generator(this, function(n6) {
      switch (n6.label) {
        case 0:
          if (!(e11 = c5().liffId))
            throw w(I, "Invalid LIFF ID.");
          return [4, Ze(e11)];
        case 1:
          return t2 = n6.sent(), I3(t2), [2];
      }
    });
  });
}
function et2(e11) {
  return __awaiter(this, void 0, void 0, function() {
    var r10, o6, i7, a10 = this;
    return __generator(this, function(c13) {
      switch (c13.label) {
        case 0:
          r10 = function() {
            return __awaiter(a10, void 0, void 0, function() {
              var t2, r11, o7, i8, a11, c14;
              return __generator(this, function(n6) {
                switch (n6.label) {
                  case 0:
                    return [4, (s12 = c5(), l14 = A2.parse(window.location.search), f14 = J2(), u12 = { grant_type: "authorization_code", client_id: l14.liffClientId, appId: s12.liffId, code: l14.code, code_verifier: f14.codeVerifier, redirect_uri: s12.redirectUri || l14.liffRedirectUri, id_token_key_type: "JWK" }, d8 = A2.stringify(u12), f5(l7("token"), { method: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8" }, body: d8 }))];
                  case 1:
                    return t2 = n6.sent(), r11 = t2.access_token, o7 = t2.id_token, i8 = t2.expires_in, F2(e11), B2(r11), q(new Date(Date.now() + 1e3 * i8)), W2(), o7 ? (G2(o7), [4, Re(o7, e11)]) : [3, 3];
                  case 2:
                    (a11 = n6.sent()) && $2(a11), n6.label = 3;
                  case 3:
                    return (c14 = A2.parse(location.hash).context_token) ? (I3(He(c14)), [3, 6]) : [3, 4];
                  case 4:
                    return [4, $e()];
                  case 5:
                    n6.sent(), n6.label = 6;
                  case 6:
                    return [2];
                }
                var s12, l14, f14, u12, d8;
              });
            });
          }, c13.label = 1;
        case 1:
          return c13.trys.push([1, 3, , 4]), [4, r10()];
        case 2:
          return c13.sent(), [3, 4];
        case 3:
          throw o6 = c13.sent(), i7 = o6, W2(), i7;
        case 4:
          return [2];
      }
    });
  });
}
function tt2() {
  return __awaiter(this, void 0, void 0, function() {
    var e11, r10, o6, i7, a10, c13, s12 = this;
    return __generator(this, function(f14) {
      switch (f14.label) {
        case 0:
          return (r10 = ut()) ? [3, 2] : [4, st(h5.SUB)];
        case 1:
          r10 = f14.sent(), f14.label = 2;
        case 2:
          return (e11 = r10).isReady() ? (o6 = x(8), [4, e11.getData("appData")]) : [3, 8];
        case 3:
          return i7 = f14.sent(), a10 = i7.eventName, c13 = i7.data, a10 !== f6.NOT_FOUND ? [3, 6] : [4, e11.teardown()];
        case 4:
          return f14.sent(), [4, tt2()];
        case 5:
          return [2, f14.sent()];
        case 6:
          c13 && N2(JSON.stringify(c13)), f14.label = 7;
        case 7:
          return e11.listen(function(r11) {
            return __awaiter(s12, void 0, void 0, function() {
              var t2, i8;
              return __generator(this, function(n6) {
                return t2 = r11.context, i8 = t2.data, t2.eventName === C.INIT && (null == i8 ? void 0 : i8.subWindowId) !== o6 && r8(), t2.eventName !== C.CANCEL && t2.eventName !== C.SUBMIT || e11.teardown(), [2];
              });
            });
          }), e3() && e11.send({ eventName: C.INIT, data: { subWindowId: o6, hasOpener: !!window.opener } }), [3, 10];
        case 8:
          return lt() ? [3, 10] : [4, new Promise(function(e12) {
            window.addEventListener("message", function(e13) {
              return function t2(n6) {
                var r11 = n6.data, o7 = n6.source, i8 = n6.origin;
                if (r11) {
                  var a11 = r11.type, c14 = r11.message;
                  a11 === R && (window.removeEventListener("message", t2), c14 && N2(c14), ft(i8), o7 && o7.postMessage && o7.postMessage({ status: R }, i8), e13());
                }
              };
            }(e12));
          })];
        case 9:
          return [2, f14.sent()];
        case 10:
          return [2];
      }
    });
  });
}
var nt2 = new (function() {
  function e11() {
    var e12 = this;
    this.getAndValidateContext = function() {
      var e13 = E3();
      if (!e13)
        throw w(I, "Could not get Context from server.");
      if (!e13.endpointUrl)
        throw w(I, "Could not get endpointUrl from server.");
      if (!e13.permanentLinkPattern)
        throw w(I, "Could not get permanentLinkPattern from server.");
      return e13;
    }, this.decodeState = function(t2) {
      var n6 = e12.getAndValidateContext();
      t2 = t2.replace(/\n/g, "%0D%0A");
      var r10 = e12.hasTrailingSlash(n6.endpointUrl) || e12.hasTrailingSlash(t2), o6 = new URL(n6.endpointUrl), i7 = o6.origin, a10 = o6.pathname, c13 = o6.search, s12 = new URL("".concat(i7).concat(e12.attachSlashAtStart(t2))), l14 = s12.pathname, f14 = s12.search, u12 = s12.hash, d8 = "".concat(c13).concat(c13 ? f14.replace(/\?/g, "&") : f14), h8 = "".concat(a10).concat(e12.attachSlashAtStart(l14)).replace("//", "/");
      return (h8 = e12.attachSlashAtStart("".concat(h8))).endsWith("/") && !r10 && (h8 = h8.substring(0, h8.length - 1)), "".concat(i7).concat(h8).concat(d8).concat(u12).replace(/%0D%0A/g, "\n");
    };
  }
  return e11.prototype.attachSlashAtStart = function(e12) {
    return "".concat(e12 && e12.length > 0 && !e12.startsWith("/") ? "/" : "").concat(e12);
  }, e11.prototype.hasTrailingSlash = function(e12) {
    var t2 = e12.indexOf("?"), n6 = e12.indexOf("#"), r10 = -1;
    return (r10 = -1 === t2 && -1 === n6 ? e12.length : -1 === t2 ? n6 : -1 === n6 ? t2 : Math.min(t2, n6)) > 0 && "/" === e12[r10 - 1];
  }, e11.prototype.invoke = function() {
    return __awaiter(this, void 0, void 0, function() {
      var e12, t2, r10, o6, i7;
      return __generator(this, function(n6) {
        switch (n6.label) {
          case 0:
            if (e12 = A2.parse(window.location.search), "string" != typeof (t2 = e12["liff.state"]))
              return [2];
            n6.label = 1;
          case 1:
            return n6.trys.push([1, 4, , 5]), r10 = location.href, (o6 = this.decodeState(t2)) === r10 ? [3, 3] : (e12["liff.hback"] ? location.replace(E2(o6, { "liff.hback": e12["liff.hback"] })) : location.replace(o6), [4, new Promise(function() {
            })]);
          case 2:
            n6.sent(), n6.label = 3;
          case 3:
            return [3, 5];
          case 4:
            if ((i7 = n6.sent()).code === I)
              throw i7;
            return i.debug(i7), [3, 5];
          case 5:
            return [2];
        }
      });
    });
  }, e11;
}())();
function rt2(e11, r10) {
  return __awaiter(this, void 0, void 0, function() {
    var t2, o6;
    return __generator(this, function(n6) {
      switch (n6.label) {
        case 0:
          if (!e11.liffId)
            throw w(n3, "liffId is necessary for liff.init()");
          return l4(e11), !u3() && e3() && (z() || o4()), t2 = A2.parse(window.location.search), !d3() || u3() ? [3, 2] : [4, tt2()];
        case 1:
          n6.sent(), n6.label = 2;
        case 2:
          if (t2.error && t2.liffOAuth2Error)
            throw c13 = t2.error, s12 = t2.error_description, f14 = s12.replace(/\+/g, " "), u12 = "".concat(c13, ": ").concat(f14), w(I, u12);
          return i7 = t2.code, a10 = J2(), Boolean(i7 && !e3() && a10 && a10.codeVerifier) ? [4, et2(t2.liffClientId)] : [3, 4];
        case 3:
          n6.sent(), n6.label = 4;
        case 4:
          return u3() ? [4, Ye(e11)] : [3, 6];
        case 5:
          return n6.sent(), [3, 8];
        case 6:
          return e3() ? [3, 8] : [4, $e()];
        case 7:
          n6.sent(), n6.label = 8;
        case 8:
          return [4, nt2.invoke()];
        case 9:
          if (n6.sent(), o6 = E3())
            try {
              L4(location.href, o6.endpointUrl);
            } catch (h8) {
              i.warn("liff.init() was called with a current URL that is not related to the endpoint URL.\n".concat(location.href, " is not under ").concat(o6.endpointUrl));
            }
          return [4, r10()];
        case 10:
          return n6.sent(), j(window.location.href), [2];
      }
      var i7, a10, c13, s12, f14, u12;
    });
  });
}
var ot2 = function(e11, t2) {
  return new Promise(function(n6, r10) {
    if (e11) {
      var o6 = document.createElement("script");
      o6.type = "module", o6.onload = function() {
        n6();
      }, o6.src = e11, document.head.appendChild(o6);
    } else
      r10(w(n3, t2));
  });
};
var it2 = function(e11) {
  var t2 = "https://static.line-scdn.net/lui/edge/versions/1.13.0/lui-alert.js";
  return t2 && e11 && (t2 = t2.replace(/\d{1,2}\.\d{1,2}\.\d{1,3}/, e11)), ot2(t2, "LUI_ALERT_URL is not defined");
};
var at2 = function() {
  return __awaiter(void 0, void 0, void 0, function() {
    var e11;
    return __generator(this, function(t2) {
      switch (t2.label) {
        case 0:
          return e11 = function() {
            var e12, t3 = document.querySelector('script[src*="luivendor.js"]');
            if (t3 && (null === (e12 = t3.src.match(/\d{1,2}\.\d{1,2}\.\d{1,3}/g)) || void 0 === e12 ? void 0 : e12.length))
              return t3.src.match(/\d{1,2}\.\d{1,2}\.\d{1,3}/g)[0];
          }(), e11 ? [3, 2] : [4, ot2("https://static.line-scdn.net/lui/edge/versions/1.13.0/luivendor.js", "LUI_VENDOR_URL is not defined")];
        case 1:
          t2.sent(), t2.label = 2;
        case 2:
          return [4, it2(e11)];
        case 3:
          return t2.sent(), [4, (n6 = x(6), new Promise(function() {
            var e12 = document.createElement("div");
            e12.innerHTML = '<lui-alert id="'.concat("liffAlert", "-").concat(n6, '" shown title="').concat(p8("alert.android.extBrowser.autoLoginWorkaround.title"), '" message="').concat(p8("alert.android.extBrowser.autoLoginWorkaround.desc"), '" button="').concat(p8("alert.android.extBrowser.autoLoginWorkaround.button.text"), '"></lui-alert>'), document.body.appendChild(e12);
            var t3 = document.getElementById("".concat("liffAlert", "-").concat(n6));
            t3 && t3.addEventListener("lui-button-click", function() {
              var e13 = window.open(E2(window.location.href, { liffIsEscapedFromApp: "true" }), "_blank");
              e13 && (e13.location.href = E2(window.location.href, { liffIsEscapedFromApp: "true" }), window.close());
            });
          }))];
        case 4:
          return t2.sent(), [2];
      }
      var n6;
    });
  });
};
var ct2 = function(e11) {
  try {
    return new URL(e11).searchParams.get("lineAppVersion");
  } catch (t2) {
    return null;
  }
};
function st2() {
  return __awaiter(this, void 0, void 0, function() {
    var e11, t2, r10;
    return __generator(this, function(n6) {
      switch (n6.label) {
        case 0:
          return e11 = null !== (r10 = ct2(window.location.href)) && void 0 !== r10 ? r10 : ct2(window.document.referrer), !!e11 && f2(e11, "13.10.0") >= 0 ? [2] : u3() || "android" !== e6() || (t2 = A2.parse(window.location.search))[d5] || t2.liffIsEscapedFromApp ? [2] : t2.liffClientId && document.referrer.includes("access.".concat("line.me")) ? (window.location.href = E2(window.location.href, { liffIsEscapedFromApp: "true" }), [2]) : t2.liffClientId && document.referrer.includes("android-app://") ? [4, at2()] : [3, 2];
        case 1:
          n6.sent(), n6.label = 2;
        case 2:
          return t2.liffClientId && "" === document.referrer && 1 === window.history.length ? [4, at2()] : [3, 4];
        case 3:
          n6.sent(), n6.label = 4;
        case 4:
          return !document.referrer.includes("liffClientId") || document.referrer.includes("liffIsEscapedFromApp") ? [3, 6] : [4, at2()];
        case 5:
          n6.sent(), n6.label = 6;
        case 6:
          return [2];
      }
    });
  });
}
var lt2 = function(e11) {
  function o6() {
    var t2 = e11.apply(this, __spreadArray([], __read(arguments), false)) || this;
    return t2.hooks = { before: new a6(), after: new a6() }, t2.internalHooks = { beforeFinished: new a6(), beforeSuccess: new a6(), error: new a6() }, t2;
  }
  return __extends(o6, e11), Object.defineProperty(o6.prototype, "name", { get: function() {
    return "init";
  }, enumerable: false, configurable: true }), o6.prototype.install = function(e12) {
    var t2 = e12.liff;
    return this.liffForWindow = t2, this.init.bind(this);
  }, o6.prototype.init = function(e12, r10, o7) {
    return __awaiter(this, void 0, void 0, function() {
      var t2;
      return __generator(this, function(n6) {
        switch (n6.label) {
          case 0:
            return [4, this.hooks.before.call()];
          case 1:
            n6.sent(), i7 = this.liffForWindow, window && !window.liff && (window.liff = i7), n6.label = 2;
          case 2:
            return n6.trys.push([2, 9, , 11]), [4, Promise.all([We(this.liffForWindow), rt2(e12, this.internalHooks.beforeFinished.call)])];
          case 3:
            return n6.sent(), Ne(), [4, this.internalHooks.beforeSuccess.call()];
          case 4:
            return n6.sent(), !e12.withLoginOnExternalBrowser || e3() ? [3, 6] : (v5(), [4, new Promise(function() {
            })]);
          case 5:
            n6.sent(), n6.label = 6;
          case 6:
            return [4, st2()];
          case 7:
            return n6.sent(), [4, this.hooks.after.call()];
          case 8:
            return n6.sent(), "function" == typeof r10 && r10(), e(), [3, 11];
          case 9:
            return t2 = n6.sent(), [4, this.internalHooks.error.call(t2)];
          case 10:
            throw n6.sent(), "function" == typeof o7 && o7(t2), t2;
          case 11:
            return [2];
        }
        var i7;
      });
    });
  }, o6;
}(a);

// node_modules/@liff/get-origins/lib/index.es.js
function e9() {
  return { liffApp: "https://liff.".concat("line.me"), liffServer: "https://api.".concat("line.me"), miniApp: "https://miniapp.".concat("line.me") };
}
var i5 = function(n6) {
  function i7() {
    return null !== n6 && n6.apply(this, arguments) || this;
  }
  return __extends(i7, n6), Object.defineProperty(i7.prototype, "name", { get: function() {
    return "getOrigins";
  }, enumerable: false, configurable: true }), i7.prototype.install = function() {
    return function() {
      return e9();
    };
  }, i7;
}(a);

// node_modules/@liff/get-language/lib/index.es.js
function r9() {
  return navigator.language;
}
var e10 = function(n6) {
  function e11() {
    return null !== n6 && n6.apply(this, arguments) || this;
  }
  return __extends(e11, n6), Object.defineProperty(e11.prototype, "name", { get: function() {
    return "getLanguage";
  }, enumerable: false, configurable: true }), e11.prototype.install = function() {
    return function() {
      return r9();
    };
  }, e11;
}(a);

// node_modules/@liff/get-app-language/lib/index.es.js
function f9() {
  var r10 = r5();
  if (!r10 || !u3() || "ios" !== e6())
    return navigator.language;
  if (f2(r10, "14.11.0") >= 0) {
    var t2 = window.prompt("LIFF:GET_APP_LANGUAGE");
    if (t2)
      return t2;
  }
  return navigator.language;
}
var u9 = function(t2) {
  function i7() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(i7, t2), Object.defineProperty(i7.prototype, "name", { get: function() {
    return "getAppLanguage";
  }, enumerable: false, configurable: true }), i7.prototype.install = function() {
    return function() {
      return f9();
    };
  }, i7;
}(a);

// node_modules/@liff/permission/lib/index.es.js
function I4(r10) {
  return __awaiter(this, void 0, void 0, function() {
    var e11, i7, o6, u12, l14, h8, v7;
    return __generator(this, function(t2) {
      switch (t2.label) {
        case 0:
          return function(e12) {
            if (!U.includes(e12))
              throw w(i3, "Unexpected permission name.");
            var t3 = E3();
            return !!(null == t3 ? void 0 : t3.scope.includes(e12));
          }(r10) ? (e11 = x2()) ? [4, d4(e11)] : [3, 2] : [2, { state: "unavailable" }];
        case 1:
          i7 = t2.sent(), o6 = unescape(i7.scope).split(" ");
          try {
            for (u12 = __values(o6), l14 = u12.next(); !l14.done; l14 = u12.next())
              if (l14.value.includes(r10))
                return [2, { state: "granted" }];
          } catch (m9) {
            h8 = { error: m9 };
          } finally {
            try {
              l14 && !l14.done && (v7 = u12.return) && v7.call(u12);
            } finally {
              if (h8)
                throw h8.error;
            }
          }
          return [2, { state: "prompt" }];
        case 2:
          throw w(t, "Need access_token for api call, Please login first");
      }
    });
  });
}
function A5() {
  var e11, t2, n6 = E3();
  return !!n6 && ("square_chat" !== n6.type && (k3("skipChannelVerificationScreen") || !u3() && (null === (t2 = null === (e11 = n6.availability) || void 0 === e11 ? void 0 : e11.skipChannelVerificationScreen) || void 0 === t2 ? void 0 : t2.permission)));
}
function P4() {
  var e11 = c5().liffId;
  if (e11)
    return f5("".concat(l7("unauthorizedPermissions"), "?liffId=").concat(e11), { headers: { "Content-Type": "application/json", Accept: "application/json", Authorization: "Bearer ".concat(x2()) } });
  throw w(t, "liffId is required");
}
var S5;
var T6 = Jt.on;
var _3 = Jt.off;
var q3 = Jt.open;
var x4 = function() {
  function n6(n7, r10) {
    var i7 = this;
    this.onSubmit = function(n8) {
      return __awaiter(i7, [n8], void 0, function(e11) {
        var n9 = e11.newAccessToken, r11 = e11.ICA_ERROR;
        return __generator(this, function(e12) {
          return n9 ? this.resolve({ newAccessToken: n9 }) : r11 && this.reject(w(e2, r11)), this.teardown(), [2];
        });
      });
    }, this.onClose = function() {
      return __awaiter(i7, void 0, void 0, function() {
        return __generator(this, function(e11) {
          return this.reject(w(t, "user didn't allow the agreement")), this.teardown(), [2];
        });
      });
    }, this.onCancel = function() {
      return __awaiter(i7, void 0, void 0, function() {
        return __generator(this, function(e11) {
          return this.reject(w(t, "user didn't allow the agreement")), this.teardown(), [2];
        });
      });
    }, this.onError = function(n8) {
      return __awaiter(i7, void 0, void 0, function() {
        return __generator(this, function(e11) {
          return this.reject(n8), this.teardown(), [2];
        });
      });
    }, this.resolve = n7, this.reject = r10, this.setup();
  }
  return n6.prototype.setup = function() {
    T6("submit", this.onSubmit), T6("close", this.onClose), T6("cancel", this.onCancel), T6("error", this.onError);
  }, n6.prototype.teardown = function() {
    _3("submit", this.onSubmit), _3("close", this.onClose), _3("cancel", this.onCancel), _3("error", this.onError), S5 = void 0;
  }, n6.prototype.open = function(e11) {
    var t2 = c5().liffId;
    t2 ? q3({ url: "".concat("https://liff.line.me/1656032314-Xgrw5Pmk"), appData: { liffId: t2, channelId: m2(t2), accessToken: x2() }, onBeforeTransition: e11 }).catch(this.reject) : this.reject(w(t, "liffId is required"));
  }, n6;
}();
function E5() {
  return __awaiter(this, void 0, void 0, function() {
    var n6, r10, i7 = this;
    return __generator(this, function(o6) {
      switch (o6.label) {
        case 0:
          if (!A5())
            throw w(E, "SkipChannelVerificationScreen is unavailable.");
          return S5 && S5.teardown(), n6 = function() {
            return __awaiter(i7, void 0, void 0, function() {
              var e11;
              return __generator(this, function(t2) {
                switch (t2.label) {
                  case 0:
                    return [4, P4()];
                  case 1:
                    if (e11 = t2.sent(), (u3() ? e11 : e11.filter(function(e12) {
                      return "chat_message.write" !== e12;
                    })).length <= 0)
                      throw w(E, "All permissions have already been approved.");
                    return [2];
                }
              });
            });
          }, [4, new Promise(function(e11, t2) {
            (S5 = new x4(e11, t2)).open(n6);
          })];
        case 1:
          return r10 = o6.sent().newAccessToken, B2(r10), [2];
      }
    });
  });
}
function R5() {
  return __awaiter(this, void 0, void 0, function() {
    var e11, n6;
    return __generator(this, function(t2) {
      switch (t2.label) {
        case 0:
          if (!(e11 = x2()))
            throw w(t, "Need access_token for api call, Please login first");
          return [4, d4(e11)];
        case 1:
          return n6 = t2.sent(), [2, decodeURIComponent(n6.scope).split(" ").filter(function(e12) {
            return "" !== e12;
          })];
      }
    });
  });
}
function V3(n6, o6) {
  var s12 = this;
  return function() {
    for (var c13 = [], a10 = 0; a10 < arguments.length; a10++)
      c13[a10] = arguments[a10];
    return __awaiter(s12, void 0, void 0, function() {
      var e11, s13, a11;
      return __generator(this, function(t2) {
        switch (t2.label) {
          case 0:
            return e11 = (c13.length > 0 ? c13[c13.length - 1] : {}).ignorePermissionCheck, s13 = void 0 !== e11 && e11, [4, I4(o6)];
          case 1:
            if ("unavailable" !== (a11 = t2.sent().state))
              return [3, 2];
            throw w(E, "The permission is not in LIFF app scope.");
          case 2:
            return "prompt" !== a11 || !A5() || s13 || !u3() && "chat_message.write" === o6 ? [3, 4] : [4, E5()];
          case 3:
            return t2.sent(), [3, 5];
          case 4:
            s13 && c13.pop(), t2.label = 5;
          case 5:
            return [4, n6.apply(void 0, __spreadArray([], __read(c13), false))];
          case 6:
            return [2, t2.sent()];
        }
      });
    });
  };
}
var z3 = function(e11) {
  function t2() {
    return null !== e11 && e11.apply(this, arguments) || this;
  }
  return __extends(t2, e11), Object.defineProperty(t2.prototype, "name", { get: function() {
    return "permission";
  }, enumerable: false, configurable: true }), t2.prototype.install = function() {
    return { query: I4, requestAll: E5, getGrantedAll: R5 };
  }, t2;
}(a);
var B3 = new z3();

// node_modules/@liff/get-profile/lib/index.es.js
function n4() {
  return f5(l7("profile"));
}
var f10 = function(t2) {
  function e11() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(e11, t2), Object.defineProperty(e11.prototype, "name", { get: function() {
    return "getProfile";
  }, enumerable: false, configurable: true }), e11.prototype.install = function() {
    return V3(n4, "profile");
  }, e11;
}(a);

// node_modules/@liff/open-window/lib/index.es.js
var a8 = function(n6, i7) {
  return n6 ? "&".concat(n6.split("&").filter(function(n7) {
    return -1 === n7.indexOf("is_liff_external_open_window");
  }).join("&").concat("".concat(i7 ? "#".concat(i7) : ""))) : "".concat(i7 ? "#".concat(i7) : "");
};
function p9(n6) {
  if (!function(n7) {
    if (!n7 || "object" != typeof n7)
      return false;
    var t2 = n7, o6 = t2.url, e11 = t2.external, r10 = __read([typeof o6, typeof e11], 2), f14 = r10[0], l14 = r10[1];
    return "string" === f14 && "" !== o6 && ("undefined" === l14 || "boolean" === l14);
  }(n6))
    throw w(i3, "Invalid parameters for liff.openWindow()");
  var u12 = r5();
  if (u3())
    if (null !== u12 && "ios" === e6() && f2(u12, "9.19") >= 0 || !window._liff.postMessage) {
      var p12 = n6.url, s12 = n6.external, d8 = void 0 !== s12 && s12;
      window.open(function(n7, t2) {
        var o6, e11, r10, f14, l14, c13, u13, p13, s13;
        (function(n8) {
          return -1 !== n8.indexOf("#") && -1 !== n8.indexOf("?") && n8.indexOf("#") < n8.indexOf("?");
        })(n7) || function(n8) {
          return -1 === n8.indexOf("?") && -1 !== n8.indexOf("#");
        }(n7) ? (u13 = (o6 = __read(n7.split("#"), 2))[0], e11 = o6[1], p13 = (r10 = __read((void 0 === e11 ? "" : e11).split("?"), 2))[0], s13 = r10[1]) : (u13 = (f14 = __read(n7.split("?"), 2))[0], l14 = f14[1], s13 = (c13 = __read((void 0 === l14 ? "" : l14).split("#"), 2))[0], p13 = c13[1]);
        var d9 = a8(s13, p13);
        return "".concat(u13, "?").concat("is_liff_external_open_window", "=").concat(!!t2).concat(d9);
      }(p12, d8));
    } else
      w6("openWindow", n6);
  else
    window.open(n6.url, "_blank");
}
var s8 = function(i7) {
  function t2() {
    return null !== i7 && i7.apply(this, arguments) || this;
  }
  return __extends(t2, i7), Object.defineProperty(t2.prototype, "name", { get: function() {
    return "openWindow";
  }, enumerable: false, configurable: true }), t2.prototype.install = function() {
    return function(n6) {
      return p9(n6);
    };
  }, t2;
}(a);

// node_modules/@liff/send-messages/lib/index.es.js
var m7 = function(r10) {
  return "object" == typeof r10 && null !== r10 && function(r11) {
    return "string" == typeof r11 || r11 instanceof String;
  }(r10.type);
};
function p10(r10) {
  return Promise.reject(w(i3, r10));
}
function l12(r10) {
  if (!function(r11) {
    return Array.isArray(r11) && r11.every(m7);
  }(r10))
    return p10("Parameter 'messages' must be an array of { type, ... }");
  var e11 = r10.length;
  return e11 < 1 || e11 > 5 ? p10("Number of messages should be in range 1 to ".concat(5, ".")) : f5(l7("message"), { method: "POST", body: JSON.stringify({ messages: r10 }) }).catch(c10);
}
var c10 = function(r10) {
  if ("403" === r10.code) {
    var e11 = "12.0.0" === r5(), o6 = "ios" === e6(), n6 = P();
    e11 && (o6 || n6) && window.alert("LINEアプリをLINE 12.0.1以降にアップデートしてください。\nPlease update your LINE app to LINE 12.0.1 or later.");
  }
  throw r10;
};
var g7 = function(e11) {
  function t2() {
    return null !== e11 && e11.apply(this, arguments) || this;
  }
  return __extends(t2, e11), Object.defineProperty(t2.prototype, "name", { get: function() {
    return "sendMessages";
  }, enumerable: false, configurable: true }), t2.prototype.install = function() {
    return V3(l12, "chat_message.write");
  }, t2;
}(a);

// node_modules/@liff/get-friendship/lib/index.es.js
function o5() {
  return f5(l7("friendship"));
}
var f11 = function(t2) {
  function e11() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(e11, t2), Object.defineProperty(e11.prototype, "name", { get: function() {
    return "getFriendship";
  }, enumerable: false, configurable: true }), e11.prototype.install = function() {
    return V3(o5, "profile");
  }, e11;
}(a);

// node_modules/@liff/analytics/lib/index.es.js
function I5() {
  return __awaiter(this, void 0, void 0, function() {
    var t2, i7;
    return __generator(this, function(e11) {
      switch (e11.label) {
        case 0:
          if (!e3())
            return [3, 6];
          e11.label = 1;
        case 1:
          return e11.trys.push([1, 5, , 6]), (t2 = Z()) && t2.sub ? [2, t2.sub] : [3, 2];
        case 2:
          return [4, n4()];
        case 3:
          if ((i7 = e11.sent()) && i7.userId)
            return [2, i7.userId];
          e11.label = 4;
        case 4:
          return [3, 6];
        case 5:
          return e11.sent(), i.debug("can't retrieve Mid/Uid because of something wrong"), [3, 6];
        case 6:
          return [2];
      }
    });
  });
}
function b5() {
  return __awaiter(this, void 0, void 0, function() {
    var t2;
    return __generator(this, function(e11) {
      switch (e11.label) {
        case 0:
          return [4, I5()];
        case 1:
          return (t2 = e11.sent()) && "u" === t2.substring(0, 1) ? [2, t2] : [2];
      }
    });
  });
}
var L5 = function(c13) {
  function p12() {
    var t2 = c13.apply(this, __spreadArray([], __read(arguments), false)) || this;
    return t2.utsExtra = { isLiffSuccessful: false, isLoggedIn: false, id: "", version: "" }, t2.injected = false, t2;
  }
  return __extends(p12, c13), Object.defineProperty(p12, "CUSTOMPLACEID_INIT", { get: function() {
    return "liff.init";
  }, enumerable: false, configurable: true }), Object.defineProperty(p12, "CUSTOMTYPE", { get: function() {
    return "liffSdk";
  }, enumerable: false, configurable: true }), Object.defineProperty(p12, "LiffUtsLoginStatus", { get: function() {
    return { isLoggedIn: 1, isLiffSuccessful: 2 };
  }, enumerable: false, configurable: true }), Object.defineProperty(p12.prototype, "name", { get: function() {
    return "analytics";
  }, enumerable: false, configurable: true }), p12.prototype.install = function(t2) {
    var e11 = t2.liff, i7 = t2.internalHooks;
    this.liffCore = e11, i7.init.beforeFinished(this.beforeInitFinished.bind(this)), i7.init.beforeSuccess(this.beforeInitSuccess.bind(this)), i7.init.error(this.initError.bind(this));
  }, p12.prototype.createDeprecatedUtsProxy = function(t2) {
    var e11 = "LIFF Analytics is deprecated and will be removed in a future version. Please migrate to alternative analytics solutions.";
    return new Proxy(t2, { get: function(t3, i7) {
      var r10 = t3[i7];
      return "function" == typeof r10 ? function() {
        for (var n6 = [], s12 = 0; s12 < arguments.length; s12++)
          n6[s12] = arguments[s12];
        return i.warn("[LIFF Analytics] ".concat(e11, " Called method: ").concat(String(i7))), r10.apply(t3, n6);
      } : r10;
    } });
  }, p12.prototype.changeRatioToUTSFormat = function(t2) {
    if (t2 && Number.isFinite(t2))
      return Math.round(100 * t2);
  }, p12.prototype.setExtra = function() {
    var t2, e11 = this.utsExtra, i7 = e11.isLiffSuccessful, r10 = e11.isLoggedIn, n6 = e11.id, s12 = e11.version, o6 = (r10 ? p12.LiffUtsLoginStatus.isLoggedIn : 0) | (i7 ? p12.LiffUtsLoginStatus.isLiffSuccessful : 0);
    null === (t2 = this.uts) || void 0 === t2 || t2.setExtra("liff", { id: n6, loginStatus: o6, version: s12 });
  }, p12.prototype.assignUtsExtra = function(t2) {
    Object.assign(this.utsExtra, t2);
  }, p12.prototype.setVersion = function(t2) {
    this.assignUtsExtra({ version: t2 }), i.debug("[LIFFUTS][SDK version] ".concat(t2)), this.setExtra();
  }, p12.prototype.setLiffId = function(t2) {
    this.assignUtsExtra({ id: t2 }), i.debug("[LIFFUTS][LIFFID] ".concat(t2)), this.setExtra();
  }, p12.prototype.setIsLoggedIn = function(t2) {
    this.assignUtsExtra({ isLoggedIn: t2 }), i.debug("[LIFFUTS][isLoggedIn] ".concat(t2)), this.setExtra();
  }, p12.prototype.sendLiffInit = function() {
    var t2;
    i.debug("[LIFFUTS][sendCustom] liff.init"), null === (t2 = this.uts) || void 0 === t2 || t2.sendCustom({ type: p12.CUSTOMTYPE, params: { placeId: p12.CUSTOMPLACEID_INIT } });
  }, p12.prototype.setIsLiffSuccessful = function(t2) {
    this.assignUtsExtra({ isLiffSuccessful: t2 }), i.debug("[LIFFUTS][isLiffInitSuccessful] ".concat(t2)), this.setExtra();
  }, p12.prototype.prepareReferrer = function(t2) {
    var e11 = {};
    Object.keys(t2).forEach(function(i7) {
      if (A.includes(i7)) {
        var r10 = t2[i7];
        "string" == typeof r10 && r10 && (e11[i7.replace(/^liff\.ref\./, "")] = r10);
      }
    }), Object.keys(e11).length > 0 && (this.referrer = e11);
  }, p12.prototype.beforeInitFinished = function() {
    return __awaiter(this, void 0, void 0, function() {
      var t2, i7, r10, n6, o6, c14, p13, m9, I7, L7, v7, y6;
      return __generator(this, function(e11) {
        switch (e11.label) {
          case 0:
            if (t2 = A2.parse(window.location.search), this.prepareReferrer(t2), i7 = E3(), !(r10 = null == i7 ? void 0 : i7.utsTracking))
              return [2];
            if (n6 = c5(), o6 = n6.liffId, c14 = n6.analytics, "auto" !== r10.mode || !c14)
              return [3, 6];
            i.warn("[LIFF Analytics] LIFF Analytics is deprecated and will be removed in a future version. Please migrate to alternative analytics solutions."), i.debug("[LIFFUTS] ".concat((/* @__PURE__ */ new Date()).toUTCString())), e11.label = 1;
          case 1:
            return e11.trys.push([1, 3, , 4]), p13 = this, [4, new Promise(function(t3, e12) {
              var i8 = window.uts, r11 = document.createElement("script");
              r11.type = "text/javascript", r11.src = "https://static.line-scdn.net/uts/edge/4.1.0/uts.js", r11.onload = function() {
                var e13 = window.uts;
                t3(e13), window.uts = i8;
              }, r11.onerror = function(t4) {
                e12(t4);
              }, document.getElementsByTagName("head")[0].appendChild(r11);
            })];
          case 2:
            return p13.uts = e11.sent(), [3, 4];
          case 3:
            return m9 = e11.sent(), i.debug("[LIFFUTS] cannot load UTS, reason: ".concat(m9)), [2];
          case 4:
            return I7 = __assign(__assign({}, c14.context), { utsId: c14.context.utsId, appName: c14.context.appName, appEnv: c14.context.appEnv || "release" }), L7 = __assign(__assign({ endpoint: "https://uts-front.line-apps.com" }, c14.options), { sampleRate: this.changeRatioToUTSFormat(r10.sendRatio), version: "current" }), this.uts.init(I7, L7), [4, b5()];
          case 5:
            (v7 = e11.sent()) && (i.debug("[LIFFUTS][mid] ".concat(v7)), this.uts.setMid(v7)), (null == i7 ? void 0 : i7.tid) && (i.debug("[LIFFUTS][tid] ".concat(i7.tid)), this.uts.setTid(i7.tid)), this.referrer && (i.debug("liff.ref.referrer", this.referrer), this.uts.setSessionParams(this.referrer)), o6 && this.setLiffId(o6), this.setIsLoggedIn(e3()), this.setVersion(r4()), y6 = C2(location.href), i.debug("[LIFFUTS][url] ".concat(y6)), this.uts.setUrl(y6), this.liffCore.analytics = this.createDeprecatedUtsProxy(this.uts), this.injected = true, e11.label = 6;
          case 6:
            return [2];
        }
      });
    });
  }, p12.prototype.beforeInitSuccess = function() {
    return this.injected && (this.setIsLiffSuccessful(true), this.sendLiffInit()), Promise.resolve();
  }, p12.prototype.initError = function() {
    return this.injected && (this.setIsLiffSuccessful(false), this.sendLiffInit()), Promise.resolve();
  }, p12;
}(a);
var v6 = function(t2) {
  i.warn("[LIFF Analytics] LIFF Analytics is deprecated and will be removed in a future version. Please migrate to alternative analytics solutions. Called function: sendShareTargetPicker"), i.debug("[LIFFUTS][sendCustom] liff.shareTargetPicker"), t2.sendCustom({ type: "liffSdk", params: { placeId: "liff.shareTargetPicker" } });
};

// node_modules/@liff/scan-code-v2/lib/index.es.js
var s9;
var u10 = function() {
  function o6(o7, t2) {
    var n6 = this;
    this.resolve = o7, this.reject = t2, this.onSubmit = function(o8) {
      var t3 = o8.message;
      n6.resolve({ value: t3 }), n6.destroy();
    }, this.onClose = function() {
      n6.resolve({ value: null }), n6.destroy();
    }, this.onCancel = function() {
      n6.resolve({ value: null }), n6.destroy();
    }, this.onError = function(o8) {
      n6.reject(o8), n6.destroy();
    }, this.start();
  }
  return o6.prototype.start = function() {
    Jt.on("submit", this.onSubmit), Jt.on("close", this.onClose), Jt.on("cancel", this.onCancel), Jt.on("error", this.onError);
  }, o6.prototype.destroy = function() {
    Jt.off("submit", this.onSubmit), Jt.off("close", this.onClose), Jt.off("cancel", this.onCancel), Jt.off("error", this.onError), s9 = void 0;
  }, o6;
}();
function f12() {
  return __awaiter(this, void 0, void 0, function() {
    return __generator(this, function(o6) {
      return H2.scanCodeV2(), s9 && s9.destroy(), [2, new Promise(function(o7, t2) {
        s9 = new u10(o7, t2), Jt.open({ url: "https://liff.line.me/1656359117-jxmx5e11" }).catch(function(o8) {
          null == s9 || s9.destroy(), t2(o8);
        });
      })];
    });
  });
}
var l13 = function(t2) {
  function n6() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(n6, t2), Object.defineProperty(n6.prototype, "name", { get: function() {
    return "scanCodeV2";
  }, enumerable: false, configurable: true }), n6.prototype.install = function() {
    return f12;
  }, n6;
}(a);
var c11 = new l13();

// node_modules/@liff/window-postmessage/lib/index.es.js
var n5 = {};
function i6() {
  return n5;
}
function s10(e11, r10) {
  var o6 = i6(), n6 = __read(r10.split("."), 1)[0], s12 = o6[r10];
  s12 && e11.removeEventListener(n6, s12), o6[r10] = null;
}
var f13 = false;
var a9 = false;
function c12(e11, r10, o6, i7) {
  f13 || (a9 = function() {
    var t2 = false;
    try {
      var e12 = Object.defineProperty({}, "passive", { get: function() {
        return t2 = true, false;
      } });
      window.addEventListener("test", e12, e12), window.removeEventListener("test", e12, e12);
    } catch (r11) {
      t2 = false;
    }
    return t2;
  }(), f13 = true);
  var c13 = __read(r10.split("."), 1)[0];
  return new Promise(function(t2) {
    var f14 = function(n6) {
      t2(n6), o6 && o6(n6), i7 && i7.once && s10(e11, r10);
    };
    !function(t3, e12) {
      n5[t3] = e12;
    }(r10, f14), e11.addEventListener(c13, f14, !!a9 && i7);
  });
}
function u11(t2, o6, n6, i7) {
  if (void 0 === n6 && (n6 = {}), "object" != typeof t2 || !t2.postMessage)
    throw w(i3, "target must be window object");
  if ("string" != typeof o6)
    throw w(i3, "keyname must be string");
  if ("object" != typeof n6)
    throw w(i3, "incorrect body format. It should be Object or Array comprised of Object");
  if (!i7)
    throw w(i3, "serverEndPointUrl isn't passed. please fill up with proper url");
  if ("*" === i7)
    throw new Error("serverEndPointUrl doesn't allow to set '*'");
  var s12 = { name: o6, body: n6 };
  t2.postMessage(s12, i7);
}
function m8(t2, e11, r10, n6) {
  c12(t2, "message.".concat(e11), function(t3, e12, r11) {
    return function(n7) {
      i.debug("messageReceive", n7), n7.origin === r11 && n7.data.name === t3 && e12(n7);
    };
  }(e11, r10, n6));
}

// node_modules/@liff/share-target-picker/lib/index.es.js
var R6 = function() {
  function i7() {
    this.payloadToShareTargetPicker = null, this.popupWindow = null, this.doesWaitForSubwindowResult = false;
  }
  return i7.getInstance = function() {
    return i7.instance ? i7.instance.reset() : i7.instance = new i7(), i7.instance;
  }, i7.prototype.init = function(i8) {
    return __awaiter(this, void 0, void 0, function() {
      var t2, r10;
      return __generator(this, function(e11) {
        switch (e11.label) {
          case 0:
            return e11.trys.push([0, 5, , 6]), this.liffId = i8.referrer.liffId, this.doesWaitForSubwindowResult = !(!i8.options || !i8.options.waitForSubwindowResult), this.allowPostMessageOrigin = this.initAllowPostMessageOrigin(), this.payloadToShareTargetPicker = this.buildPayloadToShareTargetPicker(i8), window.AbortController && (this.abortController = new window.AbortController()), this.prepareAnotherWindow(), [4, this.initOtt()];
          case 1:
            return e11.sent(), this.initListener(), this.openAnotherWindow(), this.doesWaitForSubwindowResult ? [4, this.pollingShareResult()] : [3, 3];
          case 2:
            return t2 = e11.sent(), this.finalize(), [2, t2];
          case 3:
          case 6:
            return [2];
          case 4:
            return [3, 6];
          case 5:
            if (r10 = e11.sent(), this.finalize(), "AbortError" !== r10.name)
              throw r10;
            return [3, 6];
        }
      });
    });
  }, i7.prototype.resetAllVariables = function() {
    this.liffId = "", this.allowPostMessageOrigin = "", this.payloadToShareTargetPicker = null, this.ott = "", this.popupWindow = null, this.timeoutIDForHealthCheck = null, this.abortController = null, this.internalError = null, this.doesWaitForSubwindowResult = false;
  }, i7.prototype.reset = function() {
    this.finalize(), this.resetAllVariables();
  }, i7.prototype.finalize = function() {
    var t2, e11;
    this.abortController && this.abortController.abort(), u3() || (t2 = this.timeoutIDForHealthCheck, e11 = this.popupWindow, s10(window, "message.receivedHealthcheck"), t2 && clearTimeout(t2), e11 && !e11.closed && e11.close());
  }, i7.prototype.buildPayloadToShareTargetPicker = function(t2) {
    return { messages: t2.messages, isMultiple: t2.isMultiple, referrer: t2.referrer };
  }, i7.prototype.initAllowPostMessageOrigin = function(t2) {
    return void 0 === t2 && (t2 = l7("shareTargetPicker")), T2(t2);
  }, i7.prototype.initOtt = function() {
    return __awaiter(this, void 0, void 0, function() {
      var t2, i8, r10;
      return __generator(this, function(e11) {
        switch (e11.label) {
          case 0:
            return this.abortController && (t2 = this.abortController.signal), i8 = "".concat(l7("shareTargetPickerOtt"), "/").concat(this.liffId, "/ott"), r10 = this, [4, f5(i8, { method: "GET", signal: t2 }).then(function(t3) {
              return t3.ott;
            })];
          case 1:
            return r10.ott = e11.sent(), [2];
        }
      });
    });
  }, i7.prototype.prepareAnotherWindow = function() {
    u3() || ("ios" !== e6() || P() ? this.popupWindow = window.open("", "liffpopup", "width=480, height=640, menubar=no, toolbar=no, scrollbars=yes") : this.popupWindow = window.open());
  }, i7.prototype.openAnotherWindow = function() {
    if (u3() && this.payloadToShareTargetPicker)
      t2 = this.liffId, e11 = this.ott, i8 = this.payloadToShareTargetPicker, r10 = { liffId: t2, ott: e11, data: JSON.stringify(i8), closeModals: false }, location.href = "".concat("line://picker", "?").concat(A2.stringify(r10));
    else {
      if (this.timeoutIDForHealthCheck = window.setTimeout(this.healthCheck.bind(this), 1e3), !this.popupWindow)
        throw w(f);
      !function(t3, e12, i9) {
        var r11 = { liffId: e12, ott: i9 };
        t3.location.href = "".concat(l7("shareTargetPicker"), "?").concat(A2.stringify(r11));
      }(this.popupWindow, this.liffId, this.ott);
    }
    var t2, e11, i8, r10;
  }, i7.prototype.initListener = function() {
    var t2, e11;
    u3() || (t2 = this.onReceivedHealthcheck.bind(this), e11 = this.allowPostMessageOrigin, m8(window, "receivedHealthcheck", t2, e11));
  }, i7.prototype.healthCheck = function() {
    return __awaiter(this, void 0, void 0, function() {
      var t2;
      return __generator(this, function(e11) {
        switch (e11.label) {
          case 0:
            if (this.popupWindow && !this.popupWindow.closed)
              return [3, 7];
            if (!this.doesWaitForSubwindowResult)
              return [3, 5];
            e11.label = 1;
          case 1:
            return e11.trys.push([1, 3, , 4]), [4, this.onCanceled()];
          case 2:
            return e11.sent(), [3, 4];
          case 3:
            return t2 = e11.sent(), this.internalError = t2, [3, 4];
          case 4:
            return [3, 6];
          case 5:
            this.finalize(), e11.label = 6;
          case 6:
            return [3, 8];
          case 7:
            i8 = this.popupWindow, r10 = this.allowPostMessageOrigin, u11(i8, "healthcheck", void 0, r10), this.timeoutIDForHealthCheck = window.setTimeout(this.healthCheck.bind(this), 1e3), e11.label = 8;
          case 8:
            return [2];
        }
        var i8, r10;
      });
    });
  }, i7.prototype.onReceivedHealthcheck = function() {
    if (!this.popupWindow || !this.payloadToShareTargetPicker)
      throw w(f);
    var t2, e11, i8;
    t2 = this.popupWindow, e11 = this.payloadToShareTargetPicker, i8 = this.allowPostMessageOrigin, u11(t2, "ready", e11, i8);
  }, i7.prototype.onCanceled = function() {
    return __awaiter(this, void 0, void 0, function() {
      var t2, i8;
      return __generator(this, function(e11) {
        switch (e11.label) {
          case 0:
            if (u3() || !this.ott)
              throw new Error("need to call with ott in client");
            return this.abortController && (t2 = this.abortController.signal), i8 = { liffId: this.liffId, ott: this.ott }, [4, f5("".concat(l7("shareTargetPickerResult"), "?").concat(A2.stringify(i8)), { method: "POST", signal: t2, headers: { Accept: "application/json", "Content-Type": "application/x-www-form-urlencoded" }, body: "result=CANCEL" })];
          case 1:
            return [2, "ok" === e11.sent().status];
        }
      });
    });
  }, i7.prototype.getShareResult = function() {
    return __awaiter(this, void 0, void 0, function() {
      var t2, i8;
      return __generator(this, function(e11) {
        if (!this.ott)
          throw new Error("need to call with ott in client");
        return this.abortController && (t2 = this.abortController.signal), i8 = { liffId: this.liffId, ott: this.ott }, i.debug("fetch: getShareResult"), [2, f5("".concat(l7("shareTargetPickerResult"), "?").concat(A2.stringify(i8)), { method: "GET", headers: { Accept: "application/json" }, signal: t2 })];
      });
    });
  }, i7.isPollingTimeOut = function(t2, e11) {
    return (e11 - t2) / 6e4 >= 10;
  }, i7.prototype.pollingShareResult = function() {
    return __awaiter(this, void 0, void 0, function() {
      var t2, r10;
      return __generator(this, function(e11) {
        switch (e11.label) {
          case 0:
            t2 = Date.now(), e11.label = 1;
          case 1:
            if (i7.isPollingTimeOut(t2, Date.now()))
              return [3, 4];
            if (this.internalError)
              throw this.internalError;
            return [4, this.getShareResult()];
          case 2:
            if ((r10 = e11.sent()) && r10.result)
              switch (r10.result) {
                case "SUCCESS":
                  return [2, { status: "success" }];
                case "CANCEL":
                  return [2];
                default:
                  throw new Error(r10.resultDescription);
              }
            return [4, new Promise(function(t3) {
              setTimeout(t3, 500);
            })];
          case 3:
            return e11.sent(), [3, 1];
          case 4:
            throw new Error("Timeout: not finished within ".concat(10, "min"));
        }
      });
    });
  }, i7;
}();
var O5 = function(n6) {
  function c13() {
    var i7 = n6.apply(this, __spreadArray([], __read(arguments), false)) || this;
    return i7.shareTargetPicker = function(n7) {
      for (var c14 = [], u12 = 1; u12 < arguments.length; u12++)
        c14[u12 - 1] = arguments[u12];
      return __awaiter(i7, __spreadArray([n7], __read(c14), false), void 0, function(t2, i8) {
        var r10, o6, n8, c15, u13, f14, v7;
        return void 0 === i8 && (i8 = {}), __generator(this, function(e11) {
          switch (e11.label) {
            case 0:
              if (H2.shareTargetPicker(), !t2 || !Array.isArray(t2) || 0 === t2.length)
                throw w(i3, "no proper argument");
              if (t2.length > O)
                throw w(i3, "exceed the limit of num of messages");
              if (!(r10 = c5().liffId))
                throw w(n3);
              window.liff && (o6 = window.liff).analytics && v6(o6.analytics), n8 = void 0 === i8.isMultiple || i8.isMultiple, e11.label = 1;
            case 1:
              return e11.trys.push([1, 3, , 4]), c15 = R6.getInstance(), u13 = r5(), f14 = { waitForSubwindowResult: true }, u3() && u13 && f2(u13, "10.11.0") < 0 && (f14.waitForSubwindowResult = false), [4, c15.init({ messages: t2, isMultiple: n8, referrer: { liffId: r10, url: location.origin }, options: f14 })];
            case 2:
              return [2, e11.sent()];
            case 3:
              throw (v7 = e11.sent()) instanceof h ? v7 : w(N, v7.message);
            case 4:
              return [2];
          }
        });
      });
    }, i7;
  }
  return __extends(c13, n6), Object.defineProperty(c13.prototype, "name", { get: function() {
    return "shareTargetPicker";
  }, enumerable: false, configurable: true }), c13.prototype.install = function() {
    return this.shareTargetPicker;
  }, c13;
}(a);
var E6 = new O5();

// node_modules/@liff/create-shortcut-on-home-screen/lib/index.es.js
function S6(n6, e11) {
  return __awaiter(this, void 0, void 0, function() {
    var t2, i7;
    return __generator(this, function(r10) {
      switch (r10.label) {
        case 0:
          return t2 = l7("createShortcutOnHomeScreen"), (i7 = new URL(t2)).searchParams.append("liffId", n6), i7.searchParams.append("url", e11.url), e11.description && i7.searchParams.append("description", e11.description), [4, f5(i7.toString())];
        case 1:
          return [2, r10.sent().shortcutPageUrl];
      }
    });
  });
}
function g8(t2) {
  if (F(t2))
    throw w(i3, "LINE URL scheme are not supported in the current environment.");
}
function I6(n6, e11) {
  return __awaiter(this, void 0, void 0, function() {
    var t2;
    return __generator(this, function(r10) {
      switch (r10.label) {
        case 0:
          return u3() ? [2] : [4, new Promise(function(t3) {
            setTimeout(t3, 1e3);
          })];
        case 1:
          return r10.sent(), "hidden" === document.visibilityState ? [2] : (g8(e11.url), [4, S6(n6, e11)]);
        case 2:
          return t2 = r10.sent(), p9({ url: t2, external: true }), [2];
      }
    });
  });
}
function O6(n6, e11) {
  return __awaiter(this, void 0, void 0, function() {
    var t2, i7;
    return __generator(this, function(r10) {
      switch (r10.label) {
        case 0:
          return t2 = { liffId: n6, targetUrl: e11.url, description: e11.description }, i7 = "".concat("line://shortcut/liff", "?").concat(A2.stringify(t2)), location.href = i7, [4, I6(n6, e11)];
        case 1:
          return r10.sent(), [2];
      }
    });
  });
}
function P5(n6, e11) {
  return __awaiter(this, void 0, void 0, function() {
    var t2;
    return __generator(this, function(r10) {
      switch (r10.label) {
        case 0:
          return g8(e11.url), [4, S6(n6, e11)];
        case 1:
          return t2 = r10.sent(), p9({ url: t2, external: true }), [2];
      }
    });
  });
}
function H4(t2) {
  var r10;
  if (void 0 === t2.url || null === t2.url || "" === t2.url)
    throw w(i3, "no proper argument");
  var n6 = E3();
  if (!(null === (r10 = null == n6 ? void 0 : n6.availability.addToHomeLineScheme) || void 0 === r10 ? void 0 : r10.permission)) {
    if (F(t2.url))
      throw w(E, "No permission to specify line schema in url.");
    if (t2.description)
      throw w(E, "No permission to specify description.");
  }
  if (!F(t2.url)) {
    if (!n6)
      throw w(E, "Could not get Context from server.");
    n6.liffId !== k(t2.url) && L4(t2.url, n6.endpointUrl);
  }
}
function L6(n6) {
  return __awaiter(this, void 0, void 0, function() {
    return __generator(this, function(t2) {
      switch (t2.label) {
        case 0:
          return H4(n6), H2.internalCreateShortcutOnHomeScreen(), [4, x5(n6)];
        case 1:
          return t2.sent(), [2];
      }
    });
  });
}
function U5(n6) {
  return __awaiter(this, void 0, void 0, function() {
    return __generator(this, function(t2) {
      switch (t2.label) {
        case 0:
          return H4(n6), H2.createShortcutOnHomeScreen(), [4, x5(n6)];
        case 1:
          return t2.sent(), [2];
      }
    });
  });
}
function x5(n6) {
  return __awaiter(this, void 0, void 0, function() {
    var t2;
    return __generator(this, function(r10) {
      switch (r10.label) {
        case 0:
          if (!(t2 = c5().liffId))
            throw w(I, "Invalid LIFF ID.");
          return "ios" === e6() ? [4, P5(t2, n6)] : [3, 2];
        case 1:
          return r10.sent(), [3, 4];
        case 2:
          return [4, O6(t2, n6)];
        case 3:
          r10.sent(), r10.label = 4;
        case 4:
          return [2];
      }
    });
  });
}
var C6 = function(t2) {
  function r10() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(r10, t2), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "createShortcutOnHomeScreen";
  }, enumerable: false, configurable: true }), r10.prototype.install = function() {
    return function(t3) {
      return U5(t3);
    };
  }, r10;
}(a);
var N3 = function(t2) {
  function r10() {
    return null !== t2 && t2.apply(this, arguments) || this;
  }
  return __extends(r10, t2), Object.defineProperty(r10.prototype, "name", { get: function() {
    return "internalCreateShortcutOnHomeScreen";
  }, enumerable: false, configurable: true }), r10.prototype.install = function() {
    return function(t3) {
      return L6(t3);
    };
  }, r10;
}(a);

// node_modules/@liff/iap/lib/index.es.js
function s11(e11) {
  return __awaiter(this, arguments, void 0, function(t2) {
    var e12 = t2.productIds;
    return __generator(this, function(t3) {
      switch (t3.label) {
        case 0:
          return [4, w6("iap.getPlatformProducts", { productIds: e12 }).catch(function(t4) {
            if (t4.code && t4.description)
              throw w(t4.code, t4.description);
            throw w(e2, "Failed to get platform products", { cause: t4 });
          })];
        case 1:
          return [2, t3.sent().products];
      }
    });
  });
}
var d7 = function(e11) {
  return __awaiter(void 0, [e11], void 0, function(t2) {
    var e12 = t2.productId, n6 = t2.orderId;
    return __generator(this, function(t3) {
      switch (t3.label) {
        case 0:
          return [4, w6("iap.createPayment", { productId: e12, orderId: n6 }).catch(function(t4) {
            if (t4.code && t4.description)
              throw w(t4.code, t4.description);
            throw w(e2, "Failed to get platform products", { cause: t4 });
          })];
        case 1:
          return t3.sent(), [2];
      }
    });
  });
};
var p11 = function(i7) {
  function p12() {
    return null !== i7 && i7.apply(this, arguments) || this;
  }
  return __extends(p12, i7), Object.defineProperty(p12.prototype, "name", { get: function() {
    return "iap";
  }, enumerable: false, configurable: true }), p12.prototype.install = function() {
    var e11 = this;
    return { getPlatformProducts: function() {
      for (var i8 = [], u12 = 0; u12 < arguments.length; u12++)
        i8[u12] = arguments[u12];
      return __awaiter(e11, void 0, void 0, function() {
        return __generator(this, function(t2) {
          return H2.iap(), [2, s11.apply(void 0, __spreadArray([], __read(i8), false))];
        });
      });
    }, createPayment: function() {
      for (var i8 = [], u12 = 0; u12 < arguments.length; u12++)
        i8[u12] = arguments[u12];
      return __awaiter(e11, void 0, void 0, function() {
        return __generator(this, function(t2) {
          return H2.iap(), [2, d7.apply(void 0, __spreadArray([], __read(i8), false))];
        });
      });
    }, requestConsentAgreement: function() {
      return __awaiter(e11, void 0, void 0, function() {
        return __generator(this, function(e12) {
          return H2.iap(), [2, __awaiter(void 0, void 0, void 0, function() {
            return __generator(this, function(t2) {
              switch (t2.label) {
                case 0:
                  return [4, w6("iap.requestConsentAgreement").catch(function(t3) {
                    if (t3.code && t3.description)
                      throw w(t3.code, t3.description);
                    throw w(e2, "Failed to request consent agreement", { cause: t3 });
                  })];
                case 1:
                  return t2.sent(), [2];
              }
            });
          })];
        });
      });
    } };
  }, p12;
}(a);

// node_modules/@line/liff/index.mjs
var liffInstance = {};
var liff$1 = Object.defineProperties(liffInstance, {
  getOS: {
    value: e6,
    enumerable: true,
    writable: true
  },
  getVersion: {
    value: r4,
    enumerable: true,
    writable: true
  },
  getLanguage: {
    value: r9,
    enumerable: true,
    writable: true
  },
  getAppLanguage: {
    value: f9,
    enumerable: true,
    writable: true
  },
  getOrigins: {
    value: e9,
    enumerable: true,
    writable: true
  },
  isInClient: {
    value: u3,
    enumerable: true,
    writable: true
  },
  isLoggedIn: {
    value: e3,
    enumerable: true,
    writable: true
  },
  logout: {
    value: o4,
    enumerable: true,
    writable: true
  },
  getAccessToken: {
    value: x2,
    enumerable: true,
    writable: true
  },
  getIDToken: {
    value: X,
    enumerable: true,
    writable: true
  },
  getDecodedIDToken: {
    value: Z,
    enumerable: true,
    writable: true
  },
  getContext: {
    value: E3,
    enumerable: true,
    writable: true
  },
  openWindow: {
    value: p9,
    enumerable: true,
    writable: true
  },
  closeWindow: {
    value: r8,
    enumerable: true,
    writable: true
  },
  getFriendship: {
    value: V3(o5, "profile"),
    enumerable: true,
    writable: true
  },
  getAId: {
    value: y2,
    enumerable: true,
    writable: true
  },
  getProfilePlus: {
    value: S3,
    enumerable: true,
    writable: true
  },
  getIsVideoAutoPlay: {
    value: _,
    enumerable: true,
    writable: true
  },
  getLineVersion: {
    value: r5,
    enumerable: true,
    writable: true
  },
  isApiAvailable: {
    value: k3,
    enumerable: true,
    writable: true
  },
  getProfile: {
    value: V3(n4, "profile"),
    enumerable: true,
    writable: true
  },
  sendMessages: {
    value: V3(l12, "chat_message.write"),
    enumerable: true,
    writable: true
  },
  subWindow: {
    value: Jt,
    enumerable: true,
    writable: true
  },
  ready: {
    value: n2,
    enumerable: true,
    writable: true
  },
  id: {
    get: function() {
      return c5().liffId || null;
    },
    enumerable: true
  },
  _dispatchEvent: {
    value: v4,
    enumerable: true,
    writable: true
  },
  _call: {
    value: w6,
    enumerable: true,
    writable: true
  },
  _addListener: {
    value: s6,
    enumerable: true,
    writable: true
  },
  _removeListener: {
    value: u7,
    enumerable: true,
    writable: true
  },
  _postMessage: {
    value: p7,
    enumerable: true,
    writable: true
  }
});
var driver = new u();
var contextHolder = new s(driver, liff$1);
var use = new c(driver, contextHolder).install();
function applyModule(module) {
  use.call(liff$1, module);
}
[
  new c(driver, contextHolder),
  new w7(),
  new lt2(),
  new L5(),
  c11,
  R4,
  m4,
  B3,
  E6,
  h7,
  new f4(),
  new C6(),
  new N3(),
  new p11()
].forEach(applyModule);
var liff = liff$1;
export {
  liff as default,
  liff
};
//# sourceMappingURL=@line_liff.js.map
