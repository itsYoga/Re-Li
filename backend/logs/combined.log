{"code":"28000","file":"miscinit.c","length":100,"level":"error","line":"755","message":"資料庫初始化失敗: role \"postgres\" does not exist","name":"error","routine":"InitializeSessionUserId","service":"line-remind-backend","severity":"FATAL","stack":"error: role \"postgres\" does not exist\n    at Parser.parseErrorMessage (/Users/jesse/Documents/Side Projects/LINE-Re-mind/backend/node_modules/pg-protocol/src/parser.ts:369:69)\n    at Parser.handlePacket (/Users/jesse/Documents/Side Projects/LINE-Re-mind/backend/node_modules/pg-protocol/src/parser.ts:187:21)\n    at Parser.parse (/Users/jesse/Documents/Side Projects/LINE-Re-mind/backend/node_modules/pg-protocol/src/parser.ts:102:30)\n    at Socket.<anonymous> (/Users/jesse/Documents/Side Projects/LINE-Re-mind/backend/node_modules/pg-protocol/src/index.ts:7:48)\n    at Socket.emit (node:events:508:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Socket.Readable.push (node:internal/streams/readable:390:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-09-20 09:36:38"}
{"code":"3D000","file":"postinit.c","length":96,"level":"error","line":"890","message":"資料庫初始化失敗: database \"line_remind\" does not exist","name":"error","routine":"InitPostgres","service":"line-remind-backend","severity":"FATAL","stack":"error: database \"line_remind\" does not exist\n    at Parser.parseErrorMessage (/Users/jesse/Documents/Side Projects/LINE-Re-mind/backend/node_modules/pg-protocol/src/parser.ts:369:69)\n    at Parser.handlePacket (/Users/jesse/Documents/Side Projects/LINE-Re-mind/backend/node_modules/pg-protocol/src/parser.ts:187:21)\n    at Parser.parse (/Users/jesse/Documents/Side Projects/LINE-Re-mind/backend/node_modules/pg-protocol/src/parser.ts:102:30)\n    at Socket.<anonymous> (/Users/jesse/Documents/Side Projects/LINE-Re-mind/backend/node_modules/pg-protocol/src/index.ts:7:48)\n    at Socket.emit (node:events:508:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Socket.Readable.push (node:internal/streams/readable:390:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-09-20 09:37:32"}
{"code":"3D000","file":"postinit.c","length":96,"level":"error","line":"890","message":"資料庫初始化失敗: database \"line_remind\" does not exist","name":"error","routine":"InitPostgres","service":"line-remind-backend","severity":"FATAL","stack":"error: database \"line_remind\" does not exist\n    at Parser.parseErrorMessage (/Users/jesse/Documents/Side Projects/LINE-Re-mind/backend/node_modules/pg-protocol/src/parser.ts:369:69)\n    at Parser.handlePacket (/Users/jesse/Documents/Side Projects/LINE-Re-mind/backend/node_modules/pg-protocol/src/parser.ts:187:21)\n    at Parser.parse (/Users/jesse/Documents/Side Projects/LINE-Re-mind/backend/node_modules/pg-protocol/src/parser.ts:102:30)\n    at Socket.<anonymous> (/Users/jesse/Documents/Side Projects/LINE-Re-mind/backend/node_modules/pg-protocol/src/index.ts:7:48)\n    at Socket.emit (node:events:508:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Socket.Readable.push (node:internal/streams/readable:390:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-09-20 09:38:26"}
{"code":"3D000","file":"postinit.c","length":96,"level":"error","line":"890","message":"資料庫初始化失敗: database \"line_remind\" does not exist","name":"error","routine":"InitPostgres","service":"line-remind-backend","severity":"FATAL","stack":"error: database \"line_remind\" does not exist\n    at Parser.parseErrorMessage (/Users/jesse/Documents/Side Projects/LINE-Re-mind/backend/node_modules/pg-protocol/src/parser.ts:369:69)\n    at Parser.handlePacket (/Users/jesse/Documents/Side Projects/LINE-Re-mind/backend/node_modules/pg-protocol/src/parser.ts:187:21)\n    at Parser.parse (/Users/jesse/Documents/Side Projects/LINE-Re-mind/backend/node_modules/pg-protocol/src/parser.ts:102:30)\n    at Socket.<anonymous> (/Users/jesse/Documents/Side Projects/LINE-Re-mind/backend/node_modules/pg-protocol/src/index.ts:7:48)\n    at Socket.emit (node:events:508:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Socket.Readable.push (node:internal/streams/readable:390:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-09-20 09:38:49"}
{"level":"info","message":"資料庫遷移完成","service":"line-remind-backend","timestamp":"2025-09-20 09:39:52"}
{"level":"info","message":"資料庫遷移完成","service":"line-remind-backend","timestamp":"2025-09-20 09:39:52"}
{"level":"info","message":"種子資料載入完成","service":"line-remind-backend","timestamp":"2025-09-20 09:39:52"}
{"level":"info","message":"資料庫連接成功","service":"line-remind-backend","timestamp":"2025-09-20 09:39:52"}
{"level":"info","message":"排程器已啟動","service":"line-remind-backend","timestamp":"2025-09-20 09:39:52"}
{"level":"info","message":"排程器啟動成功","service":"line-remind-backend","timestamp":"2025-09-20 09:39:52"}
{"level":"info","message":"🚀 Re:li 後端服務啟動成功","service":"line-remind-backend","timestamp":"2025-09-20 09:39:52"}
{"level":"info","message":"📍 服務地址: http://localhost:3001","service":"line-remind-backend","timestamp":"2025-09-20 09:39:52"}
{"level":"info","message":"🌍 環境: development","service":"line-remind-backend","timestamp":"2025-09-20 09:39:52"}
{"level":"error","message":"資料庫初始化失敗: Error while executing \"/Users/jesse/Documents/Side Projects/LINE-Re-mind/database/seeds/01_users.js\" seed: insert into \"users\" (\"created_at\", \"display_name\", \"id\", \"is_active\", \"last_login_at\", \"line_user_id\", \"picture_url\", \"status_message\", \"updated_at\") values ($1, $2, $3, $4, $5, $6, $7, $8, $9), ($10, $11, $12, $13, $14, $15, $16, $17, $18) - duplicate key value violates unique constraint \"users_pkey\"","original":{"code":"23505","constraint":"users_pkey","detail":"Key (id)=(00000000-0000-0000-0000-000000000001) already exists.","file":"nbtinsert.c","length":215,"line":"670","name":"error","routine":"_bt_check_unique","schema":"public","severity":"ERROR","table":"users"},"service":"line-remind-backend","stack":"Error: Error while executing \"/Users/jesse/Documents/Side Projects/LINE-Re-mind/database/seeds/01_users.js\" seed: insert into \"users\" (\"created_at\", \"display_name\", \"id\", \"is_active\", \"last_login_at\", \"line_user_id\", \"picture_url\", \"status_message\", \"updated_at\") values ($1, $2, $3, $4, $5, $6, $7, $8, $9), ($10, $11, $12, $13, $14, $15, $16, $17, $18) - duplicate key value violates unique constraint \"users_pkey\"\n    at Seeder._waterfallBatch (/Users/jesse/Documents/Side Projects/LINE-Re-mind/backend/node_modules/knex/lib/migrations/seed/Seeder.js:118:23)\nerror: insert into \"users\" (\"created_at\", \"display_name\", \"id\", \"is_active\", \"last_login_at\", \"line_user_id\", \"picture_url\", \"status_message\", \"updated_at\") values ($1, $2, $3, $4, $5, $6, $7, $8, $9), ($10, $11, $12, $13, $14, $15, $16, $17, $18) - duplicate key value violates unique constraint \"users_pkey\"\n    at Parser.parseErrorMessage (/Users/jesse/Documents/Side Projects/LINE-Re-mind/backend/node_modules/pg-protocol/src/parser.ts:369:69)\n    at Parser.handlePacket (/Users/jesse/Documents/Side Projects/LINE-Re-mind/backend/node_modules/pg-protocol/src/parser.ts:187:21)\n    at Parser.parse (/Users/jesse/Documents/Side Projects/LINE-Re-mind/backend/node_modules/pg-protocol/src/parser.ts:102:30)\n    at Socket.<anonymous> (/Users/jesse/Documents/Side Projects/LINE-Re-mind/backend/node_modules/pg-protocol/src/index.ts:7:48)\n    at Socket.emit (node:events:508:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Socket.Readable.push (node:internal/streams/readable:390:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-09-20 09:39:52"}
{"level":"info","message":"收到 SIGTERM 信號，正在關閉伺服器...","service":"line-remind-backend","timestamp":"2025-09-20 09:39:54"}
{"level":"info","message":"資料庫遷移完成","service":"line-remind-backend","timestamp":"2025-09-20 09:40:00"}
{"level":"info","message":"種子資料載入完成","service":"line-remind-backend","timestamp":"2025-09-20 09:40:00"}
{"level":"info","message":"資料庫連接成功","service":"line-remind-backend","timestamp":"2025-09-20 09:40:00"}
{"level":"info","message":"排程器已啟動","service":"line-remind-backend","timestamp":"2025-09-20 09:40:00"}
{"level":"info","message":"排程器啟動成功","service":"line-remind-backend","timestamp":"2025-09-20 09:40:00"}
{"level":"info","message":"🚀 Re:li 後端服務啟動成功","service":"line-remind-backend","timestamp":"2025-09-20 09:40:00"}
{"level":"info","message":"📍 服務地址: http://localhost:3001","service":"line-remind-backend","timestamp":"2025-09-20 09:40:00"}
{"level":"info","message":"🌍 環境: development","service":"line-remind-backend","timestamp":"2025-09-20 09:40:00"}
{"ip":"::1","level":"info","message":"API 請求開始","method":"GET","service":"line-remind-backend","timestamp":"2025-09-20 09:40:10","url":"/health","userAgent":"curl/8.7.1"}
{"duration":"3ms","ip":"::1","level":"info","message":"API 請求完成","method":"GET","service":"line-remind-backend","statusCode":200,"timestamp":"2025-09-20 09:40:10","url":"/health","userAgent":"curl/8.7.1"}
{"level":"info","message":"收到 SIGTERM 信號，正在關閉伺服器...","service":"line-remind-backend","timestamp":"2025-09-20 09:40:53"}
{"level":"info","message":"資料庫遷移完成","service":"line-remind-backend","timestamp":"2025-09-20 09:41:02"}
{"level":"info","message":"種子資料載入完成","service":"line-remind-backend","timestamp":"2025-09-20 09:41:02"}
{"level":"info","message":"資料庫連接成功","service":"line-remind-backend","timestamp":"2025-09-20 09:41:02"}
{"level":"info","message":"排程器已啟動","service":"line-remind-backend","timestamp":"2025-09-20 09:41:02"}
{"level":"info","message":"排程器啟動成功","service":"line-remind-backend","timestamp":"2025-09-20 09:41:02"}
{"level":"info","message":"🚀 Re:li 後端服務啟動成功","service":"line-remind-backend","timestamp":"2025-09-20 09:41:02"}
{"level":"info","message":"📍 服務地址: http://localhost:3001","service":"line-remind-backend","timestamp":"2025-09-20 09:41:02"}
{"level":"info","message":"🌍 環境: development","service":"line-remind-backend","timestamp":"2025-09-20 09:41:02"}
{"ip":"::1","level":"info","message":"API 請求開始","method":"GET","service":"line-remind-backend","timestamp":"2025-09-20 09:41:12","url":"/health","userAgent":"curl/8.7.1"}
{"duration":"3ms","ip":"::1","level":"info","message":"API 請求完成","method":"GET","service":"line-remind-backend","statusCode":200,"timestamp":"2025-09-20 09:41:12","url":"/health","userAgent":"curl/8.7.1"}
{"level":"info","message":"收到 SIGTERM 信號，正在關閉伺服器...","service":"line-remind-backend","timestamp":"2025-09-20 09:42:02"}
{"level":"info","message":"資料庫遷移完成","service":"line-remind-backend","timestamp":"2025-09-20 09:42:07"}
{"level":"info","message":"種子資料載入完成","service":"line-remind-backend","timestamp":"2025-09-20 09:42:07"}
{"level":"info","message":"資料庫連接成功","service":"line-remind-backend","timestamp":"2025-09-20 09:42:07"}
{"level":"info","message":"排程器已啟動","service":"line-remind-backend","timestamp":"2025-09-20 09:42:07"}
{"level":"info","message":"排程器啟動成功","service":"line-remind-backend","timestamp":"2025-09-20 09:42:07"}
{"level":"info","message":"🚀 Re:li 後端服務啟動成功","service":"line-remind-backend","timestamp":"2025-09-20 09:42:07"}
{"level":"info","message":"📍 服務地址: http://localhost:3001","service":"line-remind-backend","timestamp":"2025-09-20 09:42:07"}
{"level":"info","message":"🌍 環境: development","service":"line-remind-backend","timestamp":"2025-09-20 09:42:07"}
